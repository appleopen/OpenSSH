#! /bin/sh

# Guess values for system-dependent variables and create Makefiles.
# Generated automatically using autoconf version 2.13 
# Copyright (C) 1992, 93, 94, 95, 96 Free Software Foundation, Inc.
#
# This configure script is free software; the Free Software Foundation
# gives unlimited permission to copy, distribute and modify it.

# Defaults:
ac_help=
ac_default_prefix=/usr/local
# Any additions from configure.in:
ac_help="$ac_help
  --with-cflags           Specify additional flags to pass to compiler"
ac_help="$ac_help
  --with-ldlags           Specify additional flags to pass to linker"
ac_help="$ac_help
  --with-libs             Specify additional libraries to link with"
ac_help="$ac_help
  --without-pam           Disable PAM support "
ac_help="$ac_help
  --with-ssl-dir=PATH     Specify path to OpenSSL installation "
ac_help="$ac_help
  --with-rsh=PATH         Specify path to remote shell program "
ac_help="$ac_help
  --with-xauth=PATH       Specify path to xauth program "
ac_help="$ac_help
  --with-random=FILE      read randomness from FILE (default=/dev/urandom)"
ac_help="$ac_help
  --with-egd-pool=FILE    read randomness from EGD pool FILE (default none)"
ac_help="$ac_help
  --with-catman=man|cat   Install preformatted manpages[no]"
ac_help="$ac_help
  --with-kerberos4=PATH   Enable Kerberos 4 support"
ac_help="$ac_help
  --with-afs=PATH         Enable AFS support"
ac_help="$ac_help
  --with-skey             Enable S/Key support"
ac_help="$ac_help
  --with-tcp-wrappers     Enable tcpwrappers support"
ac_help="$ac_help
  --with-md5-passwords    Enable use of MD5 passwords"
ac_help="$ac_help
  --without-shadow        Disable shadow password support"
ac_help="$ac_help
  --with-ipaddr-display   Use ip address instead of hostname in \$DISPLAY"
ac_help="$ac_help
  --with-default-path=PATH Specify default \$PATH environment for server"
ac_help="$ac_help
  --with-ipv4-default     Use IPv4 by connections unless '-6' specified"
ac_help="$ac_help
  --with-4in6             Check for and convert IPv4 in IPv6 mapped addresses"
ac_help="$ac_help
  --enable-suid-ssh       Install ssh as suid root (default)
  --disable-suid-ssh      Install ssh without suid bit"
ac_help="$ac_help
  --with-pid-dir=PATH     Specify location of ssh.pid file"
ac_help="$ac_help
  --disable-lastlog       disable use of lastlog even if detected [no]"
ac_help="$ac_help
  --disable-utmp          disable use of utmp even if detected [no]"
ac_help="$ac_help
  --disable-utmpx         disable use of utmpx even if detected [no]"
ac_help="$ac_help
  --disable-wtmp          disable use of wtmp even if detected [no]"
ac_help="$ac_help
  --disable-wtmpx         disable use of wtmpx even if detected [no]"
ac_help="$ac_help
  --disable-libutil       disable use of libutil (login() etc.) [no]"
ac_help="$ac_help
  --disable-pututline     disable use of pututline() etc. ([uw]tmp) [no]"
ac_help="$ac_help
  --disable-pututxline    disable use of pututxline() etc. ([uw]tmpx) [no]"
ac_help="$ac_help
  --with-lastlog=FILE|DIR specify lastlog location [common locations]"
ac_help="$ac_help
  --with-entropy-timeout  Specify entropy gathering command timeout (msec)"

# Initialize some variables set by options.
# The variables have the same names as the options, with
# dashes changed to underlines.
build=NONE
cache_file=./config.cache
exec_prefix=NONE
host=NONE
no_create=
nonopt=NONE
no_recursion=
prefix=NONE
program_prefix=NONE
program_suffix=NONE
program_transform_name=s,x,x,
silent=
site=
srcdir=
target=NONE
verbose=
x_includes=NONE
x_libraries=NONE
bindir='${exec_prefix}/bin'
sbindir='${exec_prefix}/sbin'
libexecdir='${exec_prefix}/libexec'
datadir='${prefix}/share'
sysconfdir='${prefix}/etc'
sharedstatedir='${prefix}/com'
localstatedir='${prefix}/var'
libdir='${exec_prefix}/lib'
includedir='${prefix}/include'
oldincludedir='/usr/include'
infodir='${prefix}/info'
mandir='${prefix}/man'

# Initialize some other variables.
subdirs=
MFLAGS= MAKEFLAGS=
SHELL=${CONFIG_SHELL-/bin/sh}
# Maximum number of lines to put in a shell here document.
ac_max_here_lines=12

ac_prev=
for ac_option
do

  # If the previous option needs an argument, assign it.
  if test -n "$ac_prev"; then
    eval "$ac_prev=\$ac_option"
    ac_prev=
    continue
  fi

  case "$ac_option" in
  -*=*) ac_optarg=`echo "$ac_option" | sed 's/[-_a-zA-Z0-9]*=//'` ;;
  *) ac_optarg= ;;
  esac

  # Accept the important Cygnus configure options, so we can diagnose typos.

  case "$ac_option" in

  -bindir | --bindir | --bindi | --bind | --bin | --bi)
    ac_prev=bindir ;;
  -bindir=* | --bindir=* | --bindi=* | --bind=* | --bin=* | --bi=*)
    bindir="$ac_optarg" ;;

  -build | --build | --buil | --bui | --bu)
    ac_prev=build ;;
  -build=* | --build=* | --buil=* | --bui=* | --bu=*)
    build="$ac_optarg" ;;

  -cache-file | --cache-file | --cache-fil | --cache-fi \
  | --cache-f | --cache- | --cache | --cach | --cac | --ca | --c)
    ac_prev=cache_file ;;
  -cache-file=* | --cache-file=* | --cache-fil=* | --cache-fi=* \
  | --cache-f=* | --cache-=* | --cache=* | --cach=* | --cac=* | --ca=* | --c=*)
    cache_file="$ac_optarg" ;;

  -datadir | --datadir | --datadi | --datad | --data | --dat | --da)
    ac_prev=datadir ;;
  -datadir=* | --datadir=* | --datadi=* | --datad=* | --data=* | --dat=* \
  | --da=*)
    datadir="$ac_optarg" ;;

  -disable-* | --disable-*)
    ac_feature=`echo $ac_option|sed -e 's/-*disable-//'`
    # Reject names that are not valid shell variable names.
    if test -n "`echo $ac_feature| sed 's/[-a-zA-Z0-9_]//g'`"; then
      { echo "configure: error: $ac_feature: invalid feature name" 1>&2; exit 1; }
    fi
    ac_feature=`echo $ac_feature| sed 's/-/_/g'`
    eval "enable_${ac_feature}=no" ;;

  -enable-* | --enable-*)
    ac_feature=`echo $ac_option|sed -e 's/-*enable-//' -e 's/=.*//'`
    # Reject names that are not valid shell variable names.
    if test -n "`echo $ac_feature| sed 's/[-_a-zA-Z0-9]//g'`"; then
      { echo "configure: error: $ac_feature: invalid feature name" 1>&2; exit 1; }
    fi
    ac_feature=`echo $ac_feature| sed 's/-/_/g'`
    case "$ac_option" in
      *=*) ;;
      *) ac_optarg=yes ;;
    esac
    eval "enable_${ac_feature}='$ac_optarg'" ;;

  -exec-prefix | --exec_prefix | --exec-prefix | --exec-prefi \
  | --exec-pref | --exec-pre | --exec-pr | --exec-p | --exec- \
  | --exec | --exe | --ex)
    ac_prev=exec_prefix ;;
  -exec-prefix=* | --exec_prefix=* | --exec-prefix=* | --exec-prefi=* \
  | --exec-pref=* | --exec-pre=* | --exec-pr=* | --exec-p=* | --exec-=* \
  | --exec=* | --exe=* | --ex=*)
    exec_prefix="$ac_optarg" ;;

  -gas | --gas | --ga | --g)
    # Obsolete; use --with-gas.
    with_gas=yes ;;

  -help | --help | --hel | --he)
    # Omit some internal or obsolete options to make the list less imposing.
    # This message is too long to be a string in the A/UX 3.1 sh.
    cat << EOF
Usage: configure [options] [host]
Options: [defaults in brackets after descriptions]
Configuration:
  --cache-file=FILE       cache test results in FILE
  --help                  print this message
  --no-create             do not create output files
  --quiet, --silent       do not print \`checking...' messages
  --version               print the version of autoconf that created configure
Directory and file names:
  --prefix=PREFIX         install architecture-independent files in PREFIX
                          [$ac_default_prefix]
  --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
                          [same as prefix]
  --bindir=DIR            user executables in DIR [EPREFIX/bin]
  --sbindir=DIR           system admin executables in DIR [EPREFIX/sbin]
  --libexecdir=DIR        program executables in DIR [EPREFIX/libexec]
  --datadir=DIR           read-only architecture-independent data in DIR
                          [PREFIX/share]
  --sysconfdir=DIR        read-only single-machine data in DIR [PREFIX/etc]
  --sharedstatedir=DIR    modifiable architecture-independent data in DIR
                          [PREFIX/com]
  --localstatedir=DIR     modifiable single-machine data in DIR [PREFIX/var]
  --libdir=DIR            object code libraries in DIR [EPREFIX/lib]
  --includedir=DIR        C header files in DIR [PREFIX/include]
  --oldincludedir=DIR     C header files for non-gcc in DIR [/usr/include]
  --infodir=DIR           info documentation in DIR [PREFIX/info]
  --mandir=DIR            man documentation in DIR [PREFIX/man]
  --srcdir=DIR            find the sources in DIR [configure dir or ..]
  --program-prefix=PREFIX prepend PREFIX to installed program names
  --program-suffix=SUFFIX append SUFFIX to installed program names
  --program-transform-name=PROGRAM
                          run sed PROGRAM on installed program names
EOF
    cat << EOF
Host type:
  --build=BUILD           configure for building on BUILD [BUILD=HOST]
  --host=HOST             configure for HOST [guessed]
  --target=TARGET         configure for TARGET [TARGET=HOST]
Features and packages:
  --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
  --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
  --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
  --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)
  --x-includes=DIR        X include files are in DIR
  --x-libraries=DIR       X library files are in DIR
EOF
    if test -n "$ac_help"; then
      echo "--enable and --with options recognized:$ac_help"
    fi
    exit 0 ;;

  -host | --host | --hos | --ho)
    ac_prev=host ;;
  -host=* | --host=* | --hos=* | --ho=*)
    host="$ac_optarg" ;;

  -includedir | --includedir | --includedi | --included | --include \
  | --includ | --inclu | --incl | --inc)
    ac_prev=includedir ;;
  -includedir=* | --includedir=* | --includedi=* | --included=* | --include=* \
  | --includ=* | --inclu=* | --incl=* | --inc=*)
    includedir="$ac_optarg" ;;

  -infodir | --infodir | --infodi | --infod | --info | --inf)
    ac_prev=infodir ;;
  -infodir=* | --infodir=* | --infodi=* | --infod=* | --info=* | --inf=*)
    infodir="$ac_optarg" ;;

  -libdir | --libdir | --libdi | --libd)
    ac_prev=libdir ;;
  -libdir=* | --libdir=* | --libdi=* | --libd=*)
    libdir="$ac_optarg" ;;

  -libexecdir | --libexecdir | --libexecdi | --libexecd | --libexec \
  | --libexe | --libex | --libe)
    ac_prev=libexecdir ;;
  -libexecdir=* | --libexecdir=* | --libexecdi=* | --libexecd=* | --libexec=* \
  | --libexe=* | --libex=* | --libe=*)
    libexecdir="$ac_optarg" ;;

  -localstatedir | --localstatedir | --localstatedi | --localstated \
  | --localstate | --localstat | --localsta | --localst \
  | --locals | --local | --loca | --loc | --lo)
    ac_prev=localstatedir ;;
  -localstatedir=* | --localstatedir=* | --localstatedi=* | --localstated=* \
  | --localstate=* | --localstat=* | --localsta=* | --localst=* \
  | --locals=* | --local=* | --loca=* | --loc=* | --lo=*)
    localstatedir="$ac_optarg" ;;

  -mandir | --mandir | --mandi | --mand | --man | --ma | --m)
    ac_prev=mandir ;;
  -mandir=* | --mandir=* | --mandi=* | --mand=* | --man=* | --ma=* | --m=*)
    mandir="$ac_optarg" ;;

  -nfp | --nfp | --nf)
    # Obsolete; use --without-fp.
    with_fp=no ;;

  -no-create | --no-create | --no-creat | --no-crea | --no-cre \
  | --no-cr | --no-c)
    no_create=yes ;;

  -no-recursion | --no-recursion | --no-recursio | --no-recursi \
  | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r)
    no_recursion=yes ;;

  -oldincludedir | --oldincludedir | --oldincludedi | --oldincluded \
  | --oldinclude | --oldinclud | --oldinclu | --oldincl | --oldinc \
  | --oldin | --oldi | --old | --ol | --o)
    ac_prev=oldincludedir ;;
  -oldincludedir=* | --oldincludedir=* | --oldincludedi=* | --oldincluded=* \
  | --oldinclude=* | --oldinclud=* | --oldinclu=* | --oldincl=* | --oldinc=* \
  | --oldin=* | --oldi=* | --old=* | --ol=* | --o=*)
    oldincludedir="$ac_optarg" ;;

  -prefix | --prefix | --prefi | --pref | --pre | --pr | --p)
    ac_prev=prefix ;;
  -prefix=* | --prefix=* | --prefi=* | --pref=* | --pre=* | --pr=* | --p=*)
    prefix="$ac_optarg" ;;

  -program-prefix | --program-prefix | --program-prefi | --program-pref \
  | --program-pre | --program-pr | --program-p)
    ac_prev=program_prefix ;;
  -program-prefix=* | --program-prefix=* | --program-prefi=* \
  | --program-pref=* | --program-pre=* | --program-pr=* | --program-p=*)
    program_prefix="$ac_optarg" ;;

  -program-suffix | --program-suffix | --program-suffi | --program-suff \
  | --program-suf | --program-su | --program-s)
    ac_prev=program_suffix ;;
  -program-suffix=* | --program-suffix=* | --program-suffi=* \
  | --program-suff=* | --program-suf=* | --program-su=* | --program-s=*)
    program_suffix="$ac_optarg" ;;

  -program-transform-name | --program-transform-name \
  | --program-transform-nam | --program-transform-na \
  | --program-transform-n | --program-transform- \
  | --program-transform | --program-transfor \
  | --program-transfo | --program-transf \
  | --program-trans | --program-tran \
  | --progr-tra | --program-tr | --program-t)
    ac_prev=program_transform_name ;;
  -program-transform-name=* | --program-transform-name=* \
  | --program-transform-nam=* | --program-transform-na=* \
  | --program-transform-n=* | --program-transform-=* \
  | --program-transform=* | --program-transfor=* \
  | --program-transfo=* | --program-transf=* \
  | --program-trans=* | --program-tran=* \
  | --progr-tra=* | --program-tr=* | --program-t=*)
    program_transform_name="$ac_optarg" ;;

  -q | -quiet | --quiet | --quie | --qui | --qu | --q \
  | -silent | --silent | --silen | --sile | --sil)
    silent=yes ;;

  -sbindir | --sbindir | --sbindi | --sbind | --sbin | --sbi | --sb)
    ac_prev=sbindir ;;
  -sbindir=* | --sbindir=* | --sbindi=* | --sbind=* | --sbin=* \
  | --sbi=* | --sb=*)
    sbindir="$ac_optarg" ;;

  -sharedstatedir | --sharedstatedir | --sharedstatedi \
  | --sharedstated | --sharedstate | --sharedstat | --sharedsta \
  | --sharedst | --shareds | --shared | --share | --shar \
  | --sha | --sh)
    ac_prev=sharedstatedir ;;
  -sharedstatedir=* | --sharedstatedir=* | --sharedstatedi=* \
  | --sharedstated=* | --sharedstate=* | --sharedstat=* | --sharedsta=* \
  | --sharedst=* | --shareds=* | --shared=* | --share=* | --shar=* \
  | --sha=* | --sh=*)
    sharedstatedir="$ac_optarg" ;;

  -site | --site | --sit)
    ac_prev=site ;;
  -site=* | --site=* | --sit=*)
    site="$ac_optarg" ;;

  -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)
    ac_prev=srcdir ;;
  -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)
    srcdir="$ac_optarg" ;;

  -sysconfdir | --sysconfdir | --sysconfdi | --sysconfd | --sysconf \
  | --syscon | --sysco | --sysc | --sys | --sy)
    ac_prev=sysconfdir ;;
  -sysconfdir=* | --sysconfdir=* | --sysconfdi=* | --sysconfd=* | --sysconf=* \
  | --syscon=* | --sysco=* | --sysc=* | --sys=* | --sy=*)
    sysconfdir="$ac_optarg" ;;

  -target | --target | --targe | --targ | --tar | --ta | --t)
    ac_prev=target ;;
  -target=* | --target=* | --targe=* | --targ=* | --tar=* | --ta=* | --t=*)
    target="$ac_optarg" ;;

  -v | -verbose | --verbose | --verbos | --verbo | --verb)
    verbose=yes ;;

  -version | --version | --versio | --versi | --vers)
    echo "configure generated by autoconf version 2.13"
    exit 0 ;;

  -with-* | --with-*)
    ac_package=`echo $ac_option|sed -e 's/-*with-//' -e 's/=.*//'`
    # Reject names that are not valid shell variable names.
    if test -n "`echo $ac_package| sed 's/[-_a-zA-Z0-9]//g'`"; then
      { echo "configure: error: $ac_package: invalid package name" 1>&2; exit 1; }
    fi
    ac_package=`echo $ac_package| sed 's/-/_/g'`
    case "$ac_option" in
      *=*) ;;
      *) ac_optarg=yes ;;
    esac
    eval "with_${ac_package}='$ac_optarg'" ;;

  -without-* | --without-*)
    ac_package=`echo $ac_option|sed -e 's/-*without-//'`
    # Reject names that are not valid shell variable names.
    if test -n "`echo $ac_package| sed 's/[-a-zA-Z0-9_]//g'`"; then
      { echo "configure: error: $ac_package: invalid package name" 1>&2; exit 1; }
    fi
    ac_package=`echo $ac_package| sed 's/-/_/g'`
    eval "with_${ac_package}=no" ;;

  --x)
    # Obsolete; use --with-x.
    with_x=yes ;;

  -x-includes | --x-includes | --x-include | --x-includ | --x-inclu \
  | --x-incl | --x-inc | --x-in | --x-i)
    ac_prev=x_includes ;;
  -x-includes=* | --x-includes=* | --x-include=* | --x-includ=* | --x-inclu=* \
  | --x-incl=* | --x-inc=* | --x-in=* | --x-i=*)
    x_includes="$ac_optarg" ;;

  -x-libraries | --x-libraries | --x-librarie | --x-librari \
  | --x-librar | --x-libra | --x-libr | --x-lib | --x-li | --x-l)
    ac_prev=x_libraries ;;
  -x-libraries=* | --x-libraries=* | --x-librarie=* | --x-librari=* \
  | --x-librar=* | --x-libra=* | --x-libr=* | --x-lib=* | --x-li=* | --x-l=*)
    x_libraries="$ac_optarg" ;;

  -*) { echo "configure: error: $ac_option: invalid option; use --help to show usage" 1>&2; exit 1; }
    ;;

  *)
    if test -n "`echo $ac_option| sed 's/[-a-z0-9.]//g'`"; then
      echo "configure: warning: $ac_option: invalid host type" 1>&2
    fi
    if test "x$nonopt" != xNONE; then
      { echo "configure: error: can only configure for one host and one target at a time" 1>&2; exit 1; }
    fi
    nonopt="$ac_option"
    ;;

  esac
done

if test -n "$ac_prev"; then
  { echo "configure: error: missing argument to --`echo $ac_prev | sed 's/_/-/g'`" 1>&2; exit 1; }
fi

trap 'rm -fr conftest* confdefs* core core.* *.core $ac_clean_files; exit 1' 1 2 15

# File descriptor usage:
# 0 standard input
# 1 file creation
# 2 errors and warnings
# 3 some systems may open it to /dev/tty
# 4 used on the Kubota Titan
# 6 checking for... messages and results
# 5 compiler messages saved in config.log
if test "$silent" = yes; then
  exec 6>/dev/null
else
  exec 6>&1
fi
exec 5>./config.log

echo "\
This file contains any messages produced by compilers while
running configure, to aid debugging if configure makes a mistake.
" 1>&5

# Strip out --no-create and --no-recursion so they do not pile up.
# Also quote any args containing shell metacharacters.
ac_configure_args=
for ac_arg
do
  case "$ac_arg" in
  -no-create | --no-create | --no-creat | --no-crea | --no-cre \
  | --no-cr | --no-c) ;;
  -no-recursion | --no-recursion | --no-recursio | --no-recursi \
  | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r) ;;
  *" "*|*"	"*|*[\[\]\~\#\$\^\&\*\(\)\{\}\\\|\;\<\>\?]*)
  ac_configure_args="$ac_configure_args '$ac_arg'" ;;
  *) ac_configure_args="$ac_configure_args $ac_arg" ;;
  esac
done

# NLS nuisances.
# Only set these to C if already set.  These must not be set unconditionally
# because not all systems understand e.g. LANG=C (notably SCO).
# Fixing LC_MESSAGES prevents Solaris sh from translating var values in `set'!
# Non-C LC_CTYPE values break the ctype check.
if test "${LANG+set}"   = set; then LANG=C;   export LANG;   fi
if test "${LC_ALL+set}" = set; then LC_ALL=C; export LC_ALL; fi
if test "${LC_MESSAGES+set}" = set; then LC_MESSAGES=C; export LC_MESSAGES; fi
if test "${LC_CTYPE+set}"    = set; then LC_CTYPE=C;    export LC_CTYPE;    fi

# confdefs.h avoids OS command line length limits that DEFS can exceed.
rm -rf conftest* confdefs.h
# AIX cpp loses on an empty file, so make sure it contains at least a newline.
echo > confdefs.h

# A filename unique to this package, relative to the directory that
# configure is in, which we can look for to find out if srcdir is correct.
ac_unique_file=ssh.c

# Find the source files, if location was not specified.
if test -z "$srcdir"; then
  ac_srcdir_defaulted=yes
  # Try the directory containing this script, then its parent.
  ac_prog=$0
  ac_confdir=`echo $ac_prog|sed 's%/[^/][^/]*$%%'`
  test "x$ac_confdir" = "x$ac_prog" && ac_confdir=.
  srcdir=$ac_confdir
  if test ! -r $srcdir/$ac_unique_file; then
    srcdir=..
  fi
else
  ac_srcdir_defaulted=no
fi
if test ! -r $srcdir/$ac_unique_file; then
  if test "$ac_srcdir_defaulted" = yes; then
    { echo "configure: error: can not find sources in $ac_confdir or .." 1>&2; exit 1; }
  else
    { echo "configure: error: can not find sources in $srcdir" 1>&2; exit 1; }
  fi
fi
srcdir=`echo "${srcdir}" | sed 's%\([^/]\)/*$%\1%'`

# Prefer explicitly selected file to automatically selected ones.
if test -z "$CONFIG_SITE"; then
  if test "x$prefix" != xNONE; then
    CONFIG_SITE="$prefix/share/config.site $prefix/etc/config.site"
  else
    CONFIG_SITE="$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site"
  fi
fi
for ac_site_file in $CONFIG_SITE; do
  if test -r "$ac_site_file"; then
    echo "loading site script $ac_site_file"
    . "$ac_site_file"
  fi
done

if test -r "$cache_file"; then
  echo "loading cache $cache_file"
  . $cache_file
else
  echo "creating cache $cache_file"
  > $cache_file
fi

ac_ext=c
# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
ac_cpp='$CPP $CPPFLAGS'
ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cc_cross

ac_exeext=
ac_objext=o
if (echo "testing\c"; echo 1,2,3) | grep c >/dev/null; then
  # Stardent Vistra SVR4 grep lacks -e, says ghazi@caip.rutgers.edu.
  if (echo -n testing; echo 1,2,3) | sed s/-n/xn/ | grep xn >/dev/null; then
    ac_n= ac_c='
' ac_t='	'
  else
    ac_n=-n ac_c= ac_t=
  fi
else
  ac_n= ac_c='\c' ac_t=
fi




# Extract the first word of "gcc", so it can be a program name with args.
set dummy gcc; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:595: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_CC="gcc"
      break
    fi
  done
  IFS="$ac_save_ifs"
fi
fi
CC="$ac_cv_prog_CC"
if test -n "$CC"; then
  echo "$ac_t""$CC" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

if test -z "$CC"; then
  # Extract the first word of "cc", so it can be a program name with args.
set dummy cc; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:625: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_prog_rejected=no
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      if test "$ac_dir/$ac_word" = "/usr/ucb/cc"; then
        ac_prog_rejected=yes
	continue
      fi
      ac_cv_prog_CC="cc"
      break
    fi
  done
  IFS="$ac_save_ifs"
if test $ac_prog_rejected = yes; then
  # We found a bogon in the path, so make sure we never use it.
  set dummy $ac_cv_prog_CC
  shift
  if test $# -gt 0; then
    # We chose a different compiler from the bogus one.
    # However, it has the same basename, so the bogon will be chosen
    # first if we set CC to just the basename; use the full file name.
    shift
    set dummy "$ac_dir/$ac_word" "$@"
    shift
    ac_cv_prog_CC="$@"
  fi
fi
fi
fi
CC="$ac_cv_prog_CC"
if test -n "$CC"; then
  echo "$ac_t""$CC" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

  if test -z "$CC"; then
    case "`uname -s`" in
    *win32* | *WIN32*)
      # Extract the first word of "cl", so it can be a program name with args.
set dummy cl; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:676: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_CC="cl"
      break
    fi
  done
  IFS="$ac_save_ifs"
fi
fi
CC="$ac_cv_prog_CC"
if test -n "$CC"; then
  echo "$ac_t""$CC" 1>&6
else
  echo "$ac_t""no" 1>&6
fi
 ;;
    esac
  fi
  test -z "$CC" && { echo "configure: error: no acceptable cc found in \$PATH" 1>&2; exit 1; }
fi

echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works""... $ac_c" 1>&6
echo "configure:708: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5

ac_ext=c
# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
ac_cpp='$CPP $CPPFLAGS'
ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cc_cross

cat > conftest.$ac_ext << EOF

#line 719 "configure"
#include "confdefs.h"

main(){return(0);}
EOF
if { (eval echo configure:724: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  ac_cv_prog_cc_works=yes
  # If we can't run a trivial program, we are probably using a cross compiler.
  if (./conftest; exit) 2>/dev/null; then
    ac_cv_prog_cc_cross=no
  else
    ac_cv_prog_cc_cross=yes
  fi
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  ac_cv_prog_cc_works=no
fi
rm -fr conftest*
ac_ext=c
# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
ac_cpp='$CPP $CPPFLAGS'
ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cc_cross

echo "$ac_t""$ac_cv_prog_cc_works" 1>&6
if test $ac_cv_prog_cc_works = no; then
  { echo "configure: error: installation or configuration problem: C compiler cannot create executables." 1>&2; exit 1; }
fi
echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler""... $ac_c" 1>&6
echo "configure:750: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
echo "$ac_t""$ac_cv_prog_cc_cross" 1>&6
cross_compiling=$ac_cv_prog_cc_cross

echo $ac_n "checking whether we are using GNU C""... $ac_c" 1>&6
echo "configure:755: checking whether we are using GNU C" >&5
if eval "test \"`echo '$''{'ac_cv_prog_gcc'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.c <<EOF
#ifdef __GNUC__
  yes;
#endif
EOF
if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:764: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
  ac_cv_prog_gcc=yes
else
  ac_cv_prog_gcc=no
fi
fi

echo "$ac_t""$ac_cv_prog_gcc" 1>&6

if test $ac_cv_prog_gcc = yes; then
  GCC=yes
else
  GCC=
fi

ac_test_CFLAGS="${CFLAGS+set}"
ac_save_CFLAGS="$CFLAGS"
CFLAGS=
echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
echo "configure:783: checking whether ${CC-cc} accepts -g" >&5
if eval "test \"`echo '$''{'ac_cv_prog_cc_g'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  echo 'void f(){}' > conftest.c
if test -z "`${CC-cc} -g -c conftest.c 2>&1`"; then
  ac_cv_prog_cc_g=yes
else
  ac_cv_prog_cc_g=no
fi
rm -f conftest*

fi

echo "$ac_t""$ac_cv_prog_cc_g" 1>&6
if test "$ac_test_CFLAGS" = set; then
  CFLAGS="$ac_save_CFLAGS"
elif test $ac_cv_prog_cc_g = yes; then
  if test "$GCC" = yes; then
    CFLAGS="-g -O2"
  else
    CFLAGS="-g"
  fi
else
  if test "$GCC" = yes; then
    CFLAGS="-O2"
  else
    CFLAGS=
  fi
fi

ac_aux_dir=
for ac_dir in $srcdir $srcdir/.. $srcdir/../..; do
  if test -f $ac_dir/install-sh; then
    ac_aux_dir=$ac_dir
    ac_install_sh="$ac_aux_dir/install-sh -c"
    break
  elif test -f $ac_dir/install.sh; then
    ac_aux_dir=$ac_dir
    ac_install_sh="$ac_aux_dir/install.sh -c"
    break
  fi
done
if test -z "$ac_aux_dir"; then
  { echo "configure: error: can not find install-sh or install.sh in $srcdir $srcdir/.. $srcdir/../.." 1>&2; exit 1; }
fi
ac_config_guess=$ac_aux_dir/config.guess
ac_config_sub=$ac_aux_dir/config.sub
ac_configure=$ac_aux_dir/configure # This should be Cygnus configure.


# Make sure we can run config.sub.
if ${CONFIG_SHELL-/bin/sh} $ac_config_sub sun4 >/dev/null 2>&1; then :
else { echo "configure: error: can not run $ac_config_sub" 1>&2; exit 1; }
fi

echo $ac_n "checking host system type""... $ac_c" 1>&6
echo "configure:840: checking host system type" >&5

host_alias=$host
case "$host_alias" in
NONE)
  case $nonopt in
  NONE)
    if host_alias=`${CONFIG_SHELL-/bin/sh} $ac_config_guess`; then :
    else { echo "configure: error: can not guess host type; you must specify one" 1>&2; exit 1; }
    fi ;;
  *) host_alias=$nonopt ;;
  esac ;;
esac

host=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $host_alias`
host_cpu=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
host_vendor=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
host_os=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
echo "$ac_t""$host" 1>&6


# Checks for programs.
echo $ac_n "checking how to run the C preprocessor""... $ac_c" 1>&6
echo "configure:863: checking how to run the C preprocessor" >&5
# On Suns, sometimes $CPP names a directory.
if test -n "$CPP" && test -d "$CPP"; then
  CPP=
fi
if test -z "$CPP"; then
if eval "test \"`echo '$''{'ac_cv_prog_CPP'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
    # This must be in double quotes, not single quotes, because CPP may get
  # substituted into the Makefile and "${CC-cc}" will confuse make.
  CPP="${CC-cc} -E"
  # On the NeXT, cc -E runs the code through the compiler's parser,
  # not just through cpp.
  cat > conftest.$ac_ext <<EOF
#line 878 "configure"
#include "confdefs.h"
#include <assert.h>
Syntax Error
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:884: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  :
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  CPP="${CC-cc} -E -traditional-cpp"
  cat > conftest.$ac_ext <<EOF
#line 895 "configure"
#include "confdefs.h"
#include <assert.h>
Syntax Error
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:901: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  :
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  CPP="${CC-cc} -nologo -E"
  cat > conftest.$ac_ext <<EOF
#line 912 "configure"
#include "confdefs.h"
#include <assert.h>
Syntax Error
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:918: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  :
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  CPP=/lib/cpp
fi
rm -f conftest*
fi
rm -f conftest*
fi
rm -f conftest*
  ac_cv_prog_CPP="$CPP"
fi
  CPP="$ac_cv_prog_CPP"
else
  ac_cv_prog_CPP="$CPP"
fi
echo "$ac_t""$CPP" 1>&6

# Extract the first word of "ranlib", so it can be a program name with args.
set dummy ranlib; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:945: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$RANLIB"; then
  ac_cv_prog_RANLIB="$RANLIB" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_RANLIB="ranlib"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_prog_RANLIB" && ac_cv_prog_RANLIB=":"
fi
fi
RANLIB="$ac_cv_prog_RANLIB"
if test -n "$RANLIB"; then
  echo "$ac_t""$RANLIB" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

# Find a good install program.  We prefer a C program (faster),
# so one script is as good as another.  But avoid the broken or
# incompatible versions:
# SysV /etc/install, /usr/sbin/install
# SunOS /usr/etc/install
# IRIX /sbin/install
# AIX /bin/install
# AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag
# AFS /usr/afsws/bin/install, which mishandles nonexistent args
# SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
# ./install, which can be erroneously created by make from ./install.sh.
echo $ac_n "checking for a BSD compatible install""... $ac_c" 1>&6
echo "configure:984: checking for a BSD compatible install" >&5
if test -z "$INSTALL"; then
if eval "test \"`echo '$''{'ac_cv_path_install'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
    IFS="${IFS= 	}"; ac_save_IFS="$IFS"; IFS=":"
  for ac_dir in $PATH; do
    # Account for people who put trailing slashes in PATH elements.
    case "$ac_dir/" in
    /|./|.//|/etc/*|/usr/sbin/*|/usr/etc/*|/sbin/*|/usr/afsws/bin/*|/usr/ucb/*) ;;
    *)
      # OSF1 and SCO ODT 3.0 have their own names for install.
      # Don't use installbsd from OSF since it installs stuff as root
      # by default.
      for ac_prog in ginstall scoinst install; do
        if test -f $ac_dir/$ac_prog; then
	  if test $ac_prog = install &&
            grep dspmsg $ac_dir/$ac_prog >/dev/null 2>&1; then
	    # AIX install.  It has an incompatible calling convention.
	    :
	  else
	    ac_cv_path_install="$ac_dir/$ac_prog -c"
	    break 2
	  fi
	fi
      done
      ;;
    esac
  done
  IFS="$ac_save_IFS"

fi
  if test "${ac_cv_path_install+set}" = set; then
    INSTALL="$ac_cv_path_install"
  else
    # As a last resort, use the slow shell script.  We don't cache a
    # path for INSTALL within a source directory, because that will
    # break other packages using the cache if that directory is
    # removed, or if the path is relative.
    INSTALL="$ac_install_sh"
  fi
fi
echo "$ac_t""$INSTALL" 1>&6

# Use test -z because SunOS4 sh mishandles braces in ${var-val}.
# It thinks the first close brace ends the variable substitution.
test -z "$INSTALL_PROGRAM" && INSTALL_PROGRAM='${INSTALL}'

test -z "$INSTALL_SCRIPT" && INSTALL_SCRIPT='${INSTALL_PROGRAM}'

test -z "$INSTALL_DATA" && INSTALL_DATA='${INSTALL} -m 644'

# Extract the first word of "ar", so it can be a program name with args.
set dummy ar; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:1039: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_AR'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$AR"; then
  ac_cv_prog_AR="$AR" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_AR="ar"
      break
    fi
  done
  IFS="$ac_save_ifs"
fi
fi
AR="$ac_cv_prog_AR"
if test -n "$AR"; then
  echo "$ac_t""$AR" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

# Extract the first word of "perl", so it can be a program name with args.
set dummy perl; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:1068: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_PERL'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$PERL" in
  /*)
  ac_cv_path_PERL="$PERL" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_PERL="$PERL" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_PERL="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  ;;
esac
fi
PERL="$ac_cv_path_PERL"
if test -n "$PERL"; then
  echo "$ac_t""$PERL" 1>&6
else
  echo "$ac_t""no" 1>&6
fi


# Extract the first word of "ent", so it can be a program name with args.
set dummy ent; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:1104: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_ENT'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$ENT" in
  /*)
  ac_cv_path_ENT="$ENT" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_ENT="$ENT" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_ENT="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  ;;
esac
fi
ENT="$ac_cv_path_ENT"
if test -n "$ENT"; then
  echo "$ac_t""$ENT" 1>&6
else
  echo "$ac_t""no" 1>&6
fi


for ac_prog in filepriv
do
# Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:1142: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_FILEPRIV'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$FILEPRIV" in
  /*)
  ac_cv_path_FILEPRIV="$FILEPRIV" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_FILEPRIV="$FILEPRIV" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="/sbin:/usr/sbin"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_FILEPRIV="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  ;;
esac
fi
FILEPRIV="$ac_cv_path_FILEPRIV"
if test -n "$FILEPRIV"; then
  echo "$ac_t""$FILEPRIV" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

test -n "$FILEPRIV" && break
done
test -n "$FILEPRIV" || FILEPRIV="true"


# Use LOGIN_PROGRAM from environment if possible
if test ! -z "$LOGIN_PROGRAM" ; then
	cat >> confdefs.h <<EOF
#define LOGIN_PROGRAM_FALLBACK "$LOGIN_PROGRAM"
EOF

else
	# Search for login
	# Extract the first word of "login", so it can be a program name with args.
set dummy login; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:1190: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_LOGIN_PROGRAM_FALLBACK'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$LOGIN_PROGRAM_FALLBACK" in
  /*)
  ac_cv_path_LOGIN_PROGRAM_FALLBACK="$LOGIN_PROGRAM_FALLBACK" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_LOGIN_PROGRAM_FALLBACK="$LOGIN_PROGRAM_FALLBACK" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_LOGIN_PROGRAM_FALLBACK="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  ;;
esac
fi
LOGIN_PROGRAM_FALLBACK="$ac_cv_path_LOGIN_PROGRAM_FALLBACK"
if test -n "$LOGIN_PROGRAM_FALLBACK"; then
  echo "$ac_t""$LOGIN_PROGRAM_FALLBACK" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

	if test ! -z "$LOGIN_PROGRAM_FALLBACK" ; then
		cat >> confdefs.h <<EOF
#define LOGIN_PROGRAM_FALLBACK "$LOGIN_PROGRAM_FALLBACK"
EOF

	fi
fi

if test -z "$LD" ; then
	LD=$CC
fi

	
# C Compiler features
echo $ac_n "checking for inline""... $ac_c" 1>&6
echo "configure:1237: checking for inline" >&5
if eval "test \"`echo '$''{'ac_cv_c_inline'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_cv_c_inline=no
for ac_kw in inline __inline__ __inline; do
  cat > conftest.$ac_ext <<EOF
#line 1244 "configure"
#include "confdefs.h"

int main() {
} $ac_kw foo() {
; return 0; }
EOF
if { (eval echo configure:1251: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  ac_cv_c_inline=$ac_kw; break
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
fi
rm -f conftest*
done

fi

echo "$ac_t""$ac_cv_c_inline" 1>&6
case "$ac_cv_c_inline" in
  inline | yes) ;;
  no) cat >> confdefs.h <<\EOF
#define inline 
EOF
 ;;
  *)  cat >> confdefs.h <<EOF
#define inline $ac_cv_c_inline
EOF
 ;;
esac

if test "$GCC" = "yes"; then 
	CFLAGS="$CFLAGS -Wall"
fi

CFLAGS="$CFLAGS -I. -I${srcdir-.}"

# Check for some target-specific stuff
case "$host" in
*-*-aix*)
	AFS_LIBS="-lld"
	CFLAGS="$CFLAGS -I/usr/local/include"
	LDFLAGS="$LDFLAGS -L/usr/local/lib"
	if (test "$LD" != "gcc" && test -z "$blibpath"); then
		blibpath="/usr/lib:/lib:/usr/local/lib"
	fi
	echo $ac_n "checking for authenticate""... $ac_c" 1>&6
echo "configure:1292: checking for authenticate" >&5
if eval "test \"`echo '$''{'ac_cv_func_authenticate'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1297 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char authenticate(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char authenticate();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_authenticate) || defined (__stub___authenticate)
choke me
#else
authenticate();
#endif

; return 0; }
EOF
if { (eval echo configure:1320: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_authenticate=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_authenticate=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'authenticate`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define WITH_AIXAUTHENTICATE 1
EOF

else
  echo "$ac_t""no" 1>&6
fi

	cat >> confdefs.h <<\EOF
#define BROKEN_GETADDRINFO 1
EOF

	MANTYPE='$(CATMAN)'
	mansubdir=cat
		cat >> confdefs.h <<\EOF
#define DISABLE_LASTLOG 1
EOF

	MANTYPE='$(CATMAN)'
	mansubdir=cat
	;;
*-*-cygwin*)
	LIBS="$LIBS -lregex /usr/lib/textmode.o"
	cat >> confdefs.h <<\EOF
#define HAVE_CYGWIN 1
EOF

	cat >> confdefs.h <<\EOF
#define DISABLE_PAM 1
EOF

	cat >> confdefs.h <<\EOF
#define DISABLE_SHADOW 1
EOF

	cat >> confdefs.h <<\EOF
#define IPV4_DEFAULT 1
EOF

	cat >> confdefs.h <<\EOF
#define IP_TOS_IS_BROKEN 1
EOF

	cat >> confdefs.h <<\EOF
#define BROKEN_VHANGUP 1
EOF

	no_pam=1
	no_libsocket=1
	no_libnsl=1
	;;
*-*-hpux10*)
	if test -z "$GCC"; then
		CFLAGS="$CFLAGS -Ae"
	fi
	CFLAGS="$CFLAGS -D_HPUX_SOURCE"
	IPADDR_IN_DISPLAY=yes
	cat >> confdefs.h <<\EOF
#define USE_PIPES 1
EOF

	cat >> confdefs.h <<\EOF
#define DISABLE_SHADOW 1
EOF

	cat >> confdefs.h <<\EOF
#define DISABLE_UTMP 1
EOF

	cat >> confdefs.h <<\EOF
#define SPT_TYPE SPT_PSTAT
EOF

	LIBS="$LIBS -lsec"
	MANTYPE='$(CATMAN)'
	mansubdir=cat
	;;
*-*-hpux11*)
	CFLAGS="$CFLAGS -D_HPUX_SOURCE"
	IPADDR_IN_DISPLAY=yes
	cat >> confdefs.h <<\EOF
#define USE_PIPES 1
EOF

	cat >> confdefs.h <<\EOF
#define DISABLE_SHADOW 1
EOF

	cat >> confdefs.h <<\EOF
#define DISABLE_UTMP 1
EOF

	cat >> confdefs.h <<\EOF
#define SPT_TYPE SPT_PSTAT
EOF

	LIBS="$LIBS -lsec"
	MANTYPE='$(CATMAN)'
	mansubdir=cat
	;;
*-*-irix5*)
	CFLAGS="$CFLAGS -I/usr/local/include"
	LDFLAGS="$LDFLAGS"
	PATH="$PATH:/usr/etc"
	MANTYPE='$(CATMAN)'
	no_libsocket=1
	no_libnsl=1
	cat >> confdefs.h <<\EOF
#define BROKEN_INET_NTOA 1
EOF

	;;
*-*-irix6*)
	CFLAGS="$CFLAGS -I/usr/local/include"
	LDFLAGS="$LDFLAGS"
	PATH="$PATH:/usr/etc"
	MANTYPE='$(CATMAN)'
	cat >> confdefs.h <<\EOF
#define WITH_IRIX_ARRAY 1
EOF

	cat >> confdefs.h <<\EOF
#define WITH_IRIX_PROJECT 1
EOF

	cat >> confdefs.h <<\EOF
#define WITH_IRIX_AUDIT 1
EOF

	no_libsocket=1
	no_libnsl=1
	cat >> confdefs.h <<\EOF
#define BROKEN_INET_NTOA 1
EOF

	;;
*-*-linux*)
	no_dev_ptmx=1
	cat >> confdefs.h <<\EOF
#define DONT_TRY_OTHER_AF 1
EOF

	cat >> confdefs.h <<\EOF
#define PAM_TTY_KLUDGE 1
EOF

	inet6_default_4in6=yes
	;;
mips-sony-bsd|mips-sony-newsos4)
	cat >> confdefs.h <<\EOF
#define HAVE_NEWS4 1
EOF

	SONY=1
	echo $ac_n "checking for xatexit in -liberty""... $ac_c" 1>&6
echo "configure:1489: checking for xatexit in -liberty" >&5
ac_lib_var=`echo iberty'_'xatexit | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-liberty  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 1497 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char xatexit();

int main() {
xatexit()
; return 0; }
EOF
if { (eval echo configure:1508: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_XATEXIT 1
EOF

else
  echo "$ac_t""no" 1>&6
{ echo "configure: error: *** libiberty missing - please install first ***" 1>&2; exit 1; }
        
fi

	;;
*-*-netbsd*)
	need_dash_r=1
	;;
*-next-*)
	conf_lastlog_location="/usr/adm/lastlog"
	conf_utmp_location=/etc/utmp
	conf_wtmp_location=/usr/adm/wtmp
	MAIL=/usr/spool/mail
	cat >> confdefs.h <<\EOF
#define HAVE_NEXT 1
EOF

	cat >> confdefs.h <<\EOF
#define BROKEN_REALPATH 1
EOF

	cat >> confdefs.h <<\EOF
#define USE_PIPES 1
EOF

	CFLAGS="$CFLAGS -I/usr/local/include"
	;;
*-*-solaris*)
	CFLAGS="$CFLAGS -I/usr/local/include"
	LDFLAGS="$LDFLAGS -L/usr/local/lib -R/usr/local/lib -L/usr/ucblib -R/usr/ucblib"
	need_dash_r=1
	# hardwire lastlog location (can't detect it on some versions)
	conf_lastlog_location="/var/adm/lastlog"
	echo $ac_n "checking for obsolete utmp and wtmp in solaris2.x""... $ac_c" 1>&6
echo "configure:1563: checking for obsolete utmp and wtmp in solaris2.x" >&5
	sol2ver=`echo "$host"| sed -e 's/.*[0-9]\.//'`
	if test "$sol2ver" -ge 8; then
		echo "$ac_t""yes" 1>&6
		cat >> confdefs.h <<\EOF
#define DISABLE_UTMP 1
EOF

		cat >> confdefs.h <<\EOF
#define DISABLE_WTMP 1
EOF

	else
		echo "$ac_t""no" 1>&6
	fi
	;;
*-*-sunos4*)
	CFLAGS="$CFLAGS -DSUNOS4"
	for ac_func in getpwanam
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:1584: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1589 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:1612: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

	conf_utmp_location=/etc/utmp
	conf_wtmp_location=/var/adm/wtmp
	conf_lastlog_location=/var/adm/lastlog
	cat >> confdefs.h <<\EOF
#define USE_PIPES 1
EOF

	MANTYPE='$(CATMAN)'
	mansubdir=cat
	;;
*-sni-sysv*)
	CFLAGS="$CFLAGS -I/usr/local/include"
	LDFLAGS="$LDFLAGS -L/usr/local/lib -L/usr/ucblib"
	MANTYPE='$(CATMAN)'
	cat >> confdefs.h <<\EOF
#define IP_TOS_IS_BROKEN 1
EOF

	mansubdir=cat
	LIBS="$LIBS -lgen -lnsl -lucb"
	;;
*-*-sysv4.2*)
	CFLAGS="$CFLAGS -I/usr/local/include"
	LDFLAGS="$LDFLAGS -L/usr/local/lib"
	MANTYPE='$(CATMAN)'
	mansubdir=cat
	LIBS="$LIBS -lgen -lsocket -lnsl -lresolv"
	enable_suid_ssh=no
	;;
*-*-sysv5*)
	CFLAGS="$CFLAGS -I/usr/local/include"
	LDFLAGS="$LDFLAGS -L/usr/local/lib"
	MANTYPE='$(CATMAN)'
	mansubdir=cat
	LIBS="$LIBS -lgen -lsocket"
	enable_suid_ssh=no
	;;
*-*-sysv*)
	CFLAGS="$CFLAGS -I/usr/local/include"
	LDFLAGS="$LDFLAGS -L/usr/local/lib"
	MANTYPE='$(CATMAN)'
	mansubdir=cat
	LIBS="$LIBS -lgen -lsocket"
	;;
*-*-sco3.2v4*)
	cat >> confdefs.h <<\EOF
#define USE_PIPES 1
EOF

	CFLAGS="$CFLAGS -Dftruncate=chsize -I/usr/local/include"
	LDFLAGS="$LDFLAGS -L/usr/local/lib"
	MANTYPE='$(CATMAN)'
	mansubdir=cat
	LIBS="$LIBS -lgen -lsocket -los -lprot -lx"
	no_dev_ptmx=1
	RANLIB=true
	cat >> confdefs.h <<\EOF
#define BROKEN_SYS_TERMIO_H 1
EOF

	rsh_path="/usr/bin/rcmd"
	cat >> confdefs.h <<\EOF
#define HAVE_SCO_PROTECTED_PW 1
EOF

	;;
*-*-sco3.2v5*)
	CFLAGS="$CFLAGS -I/usr/local/include"
	LDFLAGS="$LDFLAGS -L/usr/local/lib"
	MANTYPE='$(CATMAN)'
	mansubdir=cat
	LIBS="$LIBS -lgen -lsocket -lprot -lx"
	no_dev_ptmx=1
	rsh_path="/usr/bin/rcmd"
	cat >> confdefs.h <<\EOF
#define HAVE_SCO_PROTECTED_PW 1
EOF

	;;
*-dec-osf*)
# This is untested
	if test ! -z "USE_SIA" ; then
		echo $ac_n "checking for Digital Unix Security Integration Architecture""... $ac_c" 1>&6
echo "configure:1719: checking for Digital Unix Security Integration Architecture" >&5
		if test -f /etc/sia/matrix.conf; then
			echo "$ac_t""yes" 1>&6
			cat >> confdefs.h <<\EOF
#define HAVE_OSF_SIA 1
EOF

			cat >> confdefs.h <<\EOF
#define DISABLE_LOGIN 1
EOF

			LIBS="$LIBS -lsecurity -ldb -lm -laud"
		else
			echo "$ac_t""no" 1>&6
		fi
	fi
	;;
esac

# Allow user to specify flags
# Check whether --with-cflags or --without-cflags was given.
if test "${with_cflags+set}" = set; then
  withval="$with_cflags"
  
		if test "x$withval" != "xno" ; then
			CFLAGS="$CFLAGS $withval"
		fi
		

fi

# Check whether --with-ldflags or --without-ldflags was given.
if test "${with_ldflags+set}" = set; then
  withval="$with_ldflags"
  
		if test "x$withval" != "xno" ; then
			LDFLAGS="$LDFLAGS $withval"
		fi
		

fi

# Check whether --with-libs or --without-libs was given.
if test "${with_libs+set}" = set; then
  withval="$with_libs"
  
		if test "x$withval" != "xno" ; then
			LIBS="$LIBS $withval"
		fi
		

fi



# Checks for libraries.
echo $ac_n "checking for deflate in -lz""... $ac_c" 1>&6
echo "configure:1776: checking for deflate in -lz" >&5
ac_lib_var=`echo z'_'deflate | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lz  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 1784 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char deflate();

int main() {
deflate()
; return 0; }
EOF
if { (eval echo configure:1795: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_lib=HAVE_LIB`echo z | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
  cat >> confdefs.h <<EOF
#define $ac_tr_lib 1
EOF

  LIBS="-lz $LIBS"

else
  echo "$ac_t""no" 1>&6
{ echo "configure: error: *** zlib missing - please install first ***" 1>&2; exit 1; }
fi

echo $ac_n "checking for login in -lutil""... $ac_c" 1>&6
echo "configure:1824: checking for login in -lutil" >&5
ac_lib_var=`echo util'_'login | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lutil  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 1832 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char login();

int main() {
login()
; return 0; }
EOF
if { (eval echo configure:1843: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_LIBUTIL_LOGIN 1
EOF
 LIBS="$LIBS -lutil"
else
  echo "$ac_t""no" 1>&6
fi


echo $ac_n "checking for regcomp""... $ac_c" 1>&6
echo "configure:1868: checking for regcomp" >&5
if eval "test \"`echo '$''{'ac_cv_func_regcomp'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1873 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char regcomp(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char regcomp();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_regcomp) || defined (__stub___regcomp)
choke me
#else
regcomp();
#endif

; return 0; }
EOF
if { (eval echo configure:1896: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_regcomp=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_regcomp=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'regcomp`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  :
else
  echo "$ac_t""no" 1>&6

		echo $ac_n "checking for pcre_info in -lpcre""... $ac_c" 1>&6
echo "configure:1915: checking for pcre_info in -lpcre" >&5
ac_lib_var=`echo pcre'_'pcre_info | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lpcre  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 1923 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char pcre_info();

int main() {
pcre_info()
; return 0; }
EOF
if { (eval echo configure:1934: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_LIBPCRE 1
EOF
 LIBS="$LIBS -lpcreposix -lpcre"
else
  echo "$ac_t""no" 1>&6
fi

	

fi


if test -z "$no_libsocket" ; then
	echo $ac_n "checking for yp_match in -lnsl""... $ac_c" 1>&6
echo "configure:1964: checking for yp_match in -lnsl" >&5
ac_lib_var=`echo nsl'_'yp_match | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lnsl  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 1972 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char yp_match();

int main() {
yp_match()
; return 0; }
EOF
if { (eval echo configure:1983: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_lib=HAVE_LIB`echo nsl | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
  cat >> confdefs.h <<EOF
#define $ac_tr_lib 1
EOF

  LIBS="-lnsl $LIBS"

else
  echo "$ac_t""no" 1>&6
fi

fi
if test -z "$no_libnsl" ; then
	echo $ac_n "checking for main in -lsocket""... $ac_c" 1>&6
echo "configure:2013: checking for main in -lsocket" >&5
ac_lib_var=`echo socket'_'main | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lsocket  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 2021 "configure"
#include "confdefs.h"

int main() {
main()
; return 0; }
EOF
if { (eval echo configure:2028: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_lib=HAVE_LIB`echo socket | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
  cat >> confdefs.h <<EOF
#define $ac_tr_lib 1
EOF

  LIBS="-lsocket $LIBS"

else
  echo "$ac_t""no" 1>&6
fi

fi

# Checks for header files.
for ac_hdr in bstring.h endian.h floatingpoint.h getopt.h lastlog.h limits.h login.h login_cap.h maillock.h netdb.h netgroup.h netinet/in_systm.h paths.h poll.h pty.h shadow.h security/pam_appl.h sys/bitypes.h sys/bsdtty.h sys/cdefs.h sys/poll.h sys/select.h sys/stat.h sys/stropts.h sys/sysmacros.h sys/time.h sys/ttcompat.h sys/un.h stddef.h time.h ttyent.h usersec.h util.h utmp.h utmpx.h vis.h
do
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:2062: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2067 "configure"
#include "confdefs.h"
#include <$ac_hdr>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:2072: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
fi
rm -f conftest*
fi
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done


for ac_func in arc4random atexit b64_ntop bcopy bindresvport_af clock fchmod freeaddrinfo futimes gai_strerror getcwd getaddrinfo getnameinfo getrusage getttyent inet_aton inet_ntoa innetgr login_getcapbool md5_crypt memmove mkdtemp on_exit openpty realpath rresvport_af setenv seteuid setlogin setproctitle setreuid setrlimit setsid sigaction sigvec snprintf strerror strlcat strlcpy strsep strtok_r vsnprintf vhangup vis waitpid _getpty __b64_ntop
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:2102: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2107 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:2130: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

for ac_func in gettimeofday time
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:2157: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2162 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:2185: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

for ac_func in login logout updwtmp logwtmp
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:2212: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2217 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:2240: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

for ac_func in entutent getutent getutid getutline pututline setutent
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:2267: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2272 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:2295: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

for ac_func in utmpname
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:2322: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2327 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:2350: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

for ac_func in entutxent getutxent getutxid getutxline pututxline 
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:2377: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2382 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:2405: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

for ac_func in setutxent utmpxname
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:2432: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2437 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:2460: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done


echo $ac_n "checking for getuserattr""... $ac_c" 1>&6
echo "configure:2486: checking for getuserattr" >&5
if eval "test \"`echo '$''{'ac_cv_func_getuserattr'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2491 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char getuserattr(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char getuserattr();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_getuserattr) || defined (__stub___getuserattr)
choke me
#else
getuserattr();
#endif

; return 0; }
EOF
if { (eval echo configure:2514: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_getuserattr=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_getuserattr=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'getuserattr`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_GETUSERATTR 1
EOF

else
  echo "$ac_t""no" 1>&6
echo $ac_n "checking for getuserattr in -ls""... $ac_c" 1>&6
echo "configure:2535: checking for getuserattr in -ls" >&5
ac_lib_var=`echo s'_'getuserattr | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-ls  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 2543 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char getuserattr();

int main() {
getuserattr()
; return 0; }
EOF
if { (eval echo configure:2554: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="$LIBS -ls"; cat >> confdefs.h <<\EOF
#define HAVE_GETUSERATTR 1
EOF

else
  echo "$ac_t""no" 1>&6
fi


fi


echo $ac_n "checking for login""... $ac_c" 1>&6
echo "configure:2582: checking for login" >&5
if eval "test \"`echo '$''{'ac_cv_func_login'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2587 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char login(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char login();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_login) || defined (__stub___login)
choke me
#else
login();
#endif

; return 0; }
EOF
if { (eval echo configure:2610: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_login=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_login=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'login`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_LOGIN 1
EOF

else
  echo "$ac_t""no" 1>&6
echo $ac_n "checking for login in -lbsd""... $ac_c" 1>&6
echo "configure:2631: checking for login in -lbsd" >&5
ac_lib_var=`echo bsd'_'login | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lbsd  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 2639 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char login();

int main() {
login()
; return 0; }
EOF
if { (eval echo configure:2650: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="$LIBS -lbsd"; cat >> confdefs.h <<\EOF
#define HAVE_LOGIN 1
EOF

else
  echo "$ac_t""no" 1>&6
fi


fi


echo $ac_n "checking for daemon""... $ac_c" 1>&6
echo "configure:2678: checking for daemon" >&5
if eval "test \"`echo '$''{'ac_cv_func_daemon'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2683 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char daemon(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char daemon();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_daemon) || defined (__stub___daemon)
choke me
#else
daemon();
#endif

; return 0; }
EOF
if { (eval echo configure:2706: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_daemon=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_daemon=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'daemon`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_DAEMON 1
EOF

else
  echo "$ac_t""no" 1>&6
echo $ac_n "checking for daemon in -lbsd""... $ac_c" 1>&6
echo "configure:2727: checking for daemon in -lbsd" >&5
ac_lib_var=`echo bsd'_'daemon | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lbsd  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 2735 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char daemon();

int main() {
daemon()
; return 0; }
EOF
if { (eval echo configure:2746: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="$LIBS -lbsd"; cat >> confdefs.h <<\EOF
#define HAVE_DAEMON 1
EOF

else
  echo "$ac_t""no" 1>&6
fi


fi


echo $ac_n "checking for getpagesize""... $ac_c" 1>&6
echo "configure:2774: checking for getpagesize" >&5
if eval "test \"`echo '$''{'ac_cv_func_getpagesize'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2779 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char getpagesize(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char getpagesize();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_getpagesize) || defined (__stub___getpagesize)
choke me
#else
getpagesize();
#endif

; return 0; }
EOF
if { (eval echo configure:2802: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_getpagesize=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_getpagesize=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'getpagesize`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_GETPAGESIZE 1
EOF

else
  echo "$ac_t""no" 1>&6
echo $ac_n "checking for getpagesize in -lucb""... $ac_c" 1>&6
echo "configure:2823: checking for getpagesize in -lucb" >&5
ac_lib_var=`echo ucb'_'getpagesize | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lucb  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 2831 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char getpagesize();

int main() {
getpagesize()
; return 0; }
EOF
if { (eval echo configure:2842: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="$LIBS -lucb"; cat >> confdefs.h <<\EOF
#define HAVE_GETPAGESIZE 1
EOF

else
  echo "$ac_t""no" 1>&6
fi


fi


# Check for broken snprintf
if test "x$ac_cv_func_snprintf" = "xyes" ; then
	echo $ac_n "checking whether snprintf correctly terminates long strings""... $ac_c" 1>&6
echo "configure:2872: checking whether snprintf correctly terminates long strings" >&5
	if test "$cross_compiling" = yes; then
    { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
else
  cat > conftest.$ac_ext <<EOF
#line 2877 "configure"
#include "confdefs.h"

#include <stdio.h>
int main(void){char b[5];snprintf(b,5,"123456789");return(b[4]!='\0');}
		
EOF
if { (eval echo configure:2884: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  echo "$ac_t""yes" 1>&6
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  
			echo "$ac_t""no" 1>&6
			cat >> confdefs.h <<\EOF
#define BROKEN_SNPRINTF 1
EOF

			echo "configure: warning: ****** Your snprintf() function is broken, complain to your vendor" 1>&2
		
	
fi
rm -fr conftest*
fi

fi

echo $ac_n "checking whether getpgrp takes no argument""... $ac_c" 1>&6
echo "configure:2907: checking whether getpgrp takes no argument" >&5
if eval "test \"`echo '$''{'ac_cv_func_getpgrp_void'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
  { echo "configure: error: cannot check getpgrp if cross compiling" 1>&2; exit 1; }
else
  cat > conftest.$ac_ext <<EOF
#line 2915 "configure"
#include "confdefs.h"

/*
 * If this system has a BSD-style getpgrp(),
 * which takes a pid argument, exit unsuccessfully.
 *
 * Snarfed from Chet Ramey's bash pgrp.c test program
 */
#include <stdio.h>
#include <sys/types.h>

int     pid;
int     pg1, pg2, pg3, pg4;
int     ng, np, s, child;

main()
{
        pid = getpid();
        pg1 = getpgrp(0);
        pg2 = getpgrp();
        pg3 = getpgrp(pid);
        pg4 = getpgrp(1);

        /*
         * If all of these values are the same, it's pretty sure that
         * we're on a system that ignores getpgrp's first argument.
         */
        if (pg2 == pg4 && pg1 == pg3 && pg2 == pg3)
                exit(0);

        child = fork();
        if (child < 0)
                exit(1);
        else if (child == 0) {
                np = getpid();
                /*
                 * If this is Sys V, this will not work; pgrp will be
                 * set to np because setpgrp just changes a pgrp to be
                 * the same as the pid.
                 */
                setpgrp(np, pg1);
                ng = getpgrp(0);        /* Same result for Sys V and BSD */
                if (ng == pg1) {
                        exit(1);
                } else {
                        exit(0);
                }
        } else {
                wait(&s);
                exit(s>>8);
        }
}

EOF
if { (eval echo configure:2970: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  ac_cv_func_getpgrp_void=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  ac_cv_func_getpgrp_void=no
fi
rm -fr conftest*
fi


fi

echo "$ac_t""$ac_cv_func_getpgrp_void" 1>&6
if test $ac_cv_func_getpgrp_void = yes; then
  cat >> confdefs.h <<\EOF
#define GETPGRP_VOID 1
EOF

fi


PAM_MSG="no"
# Check whether --with-pam or --without-pam was given.
if test "${with_pam+set}" = set; then
  withval="$with_pam"
  
		if test "x$withval" = "xno" ; then
			no_pam=1
			cat >> confdefs.h <<\EOF
#define DISABLE_PAM 1
EOF

			PAM_MSG="disabled"
		fi
	

fi

if (test -z "$no_pam" && test "x$ac_cv_header_security_pam_appl_h" = "xyes") ; then
	echo $ac_n "checking for dlopen in -ldl""... $ac_c" 1>&6
echo "configure:3013: checking for dlopen in -ldl" >&5
ac_lib_var=`echo dl'_'dlopen | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-ldl  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 3021 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char dlopen();

int main() {
dlopen()
; return 0; }
EOF
if { (eval echo configure:3032: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_lib=HAVE_LIB`echo dl | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
  cat >> confdefs.h <<EOF
#define $ac_tr_lib 1
EOF

  LIBS="-ldl $LIBS"

else
  echo "$ac_t""no" 1>&6
fi

	LIBS="$LIBS -lpam"

	for ac_func in pam_getenvlist
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:3064: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 3069 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:3092: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done


	disable_shadow=yes

	PAM_MSG="yes"

	# Check PAM strerror arguments (old PAM)
	echo $ac_n "checking whether pam_strerror takes only one argument""... $ac_c" 1>&6
echo "configure:3123: checking whether pam_strerror takes only one argument" >&5
	cat > conftest.$ac_ext <<EOF
#line 3125 "configure"
#include "confdefs.h"

#include <stdlib.h>
#include <security/pam_appl.h>
		
int main() {
(void)pam_strerror((pam_handle_t *)NULL, -1);
; return 0; }
EOF
if { (eval echo configure:3135: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  echo "$ac_t""no" 1>&6
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  
			cat >> confdefs.h <<\EOF
#define HAVE_OLD_PAM 1
EOF

			echo "$ac_t""yes" 1>&6
			PAM_MSG="yes (old library)"
		
	
fi
rm -f conftest* 
fi

# The big search for OpenSSL
# Check whether --with-ssl-dir or --without-ssl-dir was given.
if test "${with_ssl_dir+set}" = set; then
  withval="$with_ssl_dir"
  
		if test "x$withval" != "xno" ; then
			tryssldir=$withval
		fi
	

fi


saved_LIBS="$LIBS"
saved_LDFLAGS="$LDFLAGS"
saved_CFLAGS="$CFLAGS"
if test "x$prefix" != "xNONE" ; then
	tryssldir="$tryssldir $prefix"
fi
echo $ac_n "checking for OpenSSL directory""... $ac_c" 1>&6
echo "configure:3175: checking for OpenSSL directory" >&5
if eval "test \"`echo '$''{'ac_cv_openssldir'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
	for ssldir in $tryssldir "" /usr/local/openssl /usr/lib/openssl /usr/local/ssl /usr/lib/ssl /usr/local /usr/pkg /opt /opt/openssl FRAMEWORK ; do
		if test "x$ssldir" = "xFRAMEWORK" ; then
			LDFLAGS="$saved_LDFLAGS"
			CFLAGS="$saved_CFLAGS"
			LIBCRYPTO="-framework openssl"
		elif test ! -z "$ssldir" ; then
			LDFLAGS="$saved_LDFLAGS -L$ssldir/lib -L$ssldir"
			CFLAGS="$saved_CFLAGS -I$ssldir/include"
			if test ! -z "$need_dash_r" ; then
				LDFLAGS="$LDFLAGS -R$ssldir/lib -R$ssldir"
			fi
			LIBCRYPTO="-lcrypto"
		else
			LDFLAGS="$saved_LDFLAGS"
			CFLAGS="$saved_CFLAGS"
			LIBCRYPTO="-lcrypto"
		fi

		LIBS="$saved_LIBS $LIBCRYPTO"

		# Basic test to check for compatible version and correct linking
		# *does not* test for RSA - that comes later.
		if test "$cross_compiling" = yes; then
    { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
else
  cat > conftest.$ac_ext <<EOF
#line 3206 "configure"
#include "confdefs.h"

#include <string.h>
#include <openssl/rand.h>
int main(void) 
{
	char a[2048];
	memset(a, 0, sizeof(a));
	RAND_add(a, sizeof(a), sizeof(a));
	return(RAND_status() <= 0);
}
			
EOF
if { (eval echo configure:3220: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  
				found_crypto=1
				break;
			
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  
		
fi
rm -fr conftest*
fi


		if test ! -z "$found_crypto" ; then
			break;
		fi
	done

	if test -z "$found_crypto" ; then
		{ echo "configure: error: Could not find working SSLeay / OpenSSL libraries, please install" 1>&2; exit 1; }	
	fi
	if test -z "$ssldir" ; then
		ssldir="(system)"
	fi

	ac_cv_openssldir=$ssldir

fi

echo "$ac_t""$ac_cv_openssldir" 1>&6

if test "x$ssldir" = "xFRAMEWORK" ; then
	cat >> confdefs.h <<\EOF
#define HAVE_OPENSSL 1
EOF

	ssldir="(framework)"
	LDFLAGS="$saved_LDFLAGS"
	CFLAGS="$saved_CFLAGS"
	LIBCRYPTO="-framework openssl"
elif test ! -z "$ac_cv_openssldir" && test "x$ac_cv_openssldir" != "x(system)" ; then
	cat >> confdefs.h <<\EOF
#define HAVE_OPENSSL 1
EOF

		ssldir=$ac_cv_openssldir
	CFLAGS="$saved_CFLAGS -I$ssldir/include"
	LDFLAGS="$saved_LDFLAGS -L$ssldir/lib -L$ssldir"
	if test ! -z "$need_dash_r" ; then
		LDFLAGS="$LDFLAGS -R$ssldir/lib -R$ssldir"
	fi
	if test ! -z "$blibpath" ; then
		blibpath="$blibpath:$ssldir:$ssldir/lib"
	fi
	LIBCRYPTO="-lcrypto"
fi
LIBS="$saved_LIBS $LIBCRYPTO"

# Now test RSA support
saved_LIBS="$LIBS"
echo $ac_n "checking for RSA support""... $ac_c" 1>&6
echo "configure:3285: checking for RSA support" >&5
for WANTS_RSAREF in "" 1 ; do
	if test -z "$WANTS_RSAREF" ; then
		LIBS="$saved_LIBS"
	else
		LIBS="$saved_LIBS -lRSAglue -lrsaref"
	fi
	if test "$cross_compiling" = yes; then
    { echo "configure: error: can not run test program while cross compiling" 1>&2; exit 1; }
else
  cat > conftest.$ac_ext <<EOF
#line 3296 "configure"
#include "confdefs.h"

#include <string.h>
#include <openssl/rand.h>
#include <openssl/rsa.h>
#include <openssl/bn.h>
#include <openssl/sha.h>
int main(void) 
{
	int num; RSA *key; static unsigned char p_in[] = "blahblah";
	unsigned char c[256], p[256];
	memset(c, 0, sizeof(c)); RAND_add(c, sizeof(c), sizeof(c));
	if ((key=RSA_generate_key(512, 3, NULL, NULL))==NULL) return(1);
	num = RSA_public_encrypt(sizeof(p_in) - 1, p_in, c, key, RSA_PKCS1_PADDING);
	return(-1 == RSA_private_decrypt(num, c, p, key, RSA_PKCS1_PADDING));
}
	
EOF
if { (eval echo configure:3315: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  
		rsa_works=1
		break;
	
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
fi
rm -fr conftest*
fi

done

if test ! -z "$no_rsa" ; then
	echo "$ac_t""disabled" 1>&6
	RSA_MSG="disabled"
else
	if test -z "$rsa_works" ; then
		echo "configure: warning: *** No RSA support found *** " 1>&2
		RSA_MSG="no"
	else
		if test -z "$WANTS_RSAREF" ; then
			echo "$ac_t""yes" 1>&6
			RSA_MSG="yes"
		else
			RSA_MSG="yes (using RSAref)"
			echo "$ac_t""using RSAref" 1>&6
			LIBS="$saved_LIBS $LIBCRYPTO -lRSAglue -lrsaref"
		fi
	fi
fi

# Cheap hack to ensure NEWS-OS libraries are arranged right.
if test ! -z "$SONY" ; then
  LIBS="$LIBS -liberty";
fi

# Checks for data types
echo $ac_n "checking size of char""... $ac_c" 1>&6
echo "configure:3356: checking size of char" >&5
if eval "test \"`echo '$''{'ac_cv_sizeof_char'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
  ac_cv_sizeof_char=1
else
  cat > conftest.$ac_ext <<EOF
#line 3364 "configure"
#include "confdefs.h"
#include <stdio.h>
main()
{
  FILE *f=fopen("conftestval", "w");
  if (!f) exit(1);
  fprintf(f, "%d\n", sizeof(char));
  exit(0);
}
EOF
if { (eval echo configure:3375: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  ac_cv_sizeof_char=`cat conftestval`
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  ac_cv_sizeof_char=0
fi
rm -fr conftest*
fi

fi
echo "$ac_t""$ac_cv_sizeof_char" 1>&6
cat >> confdefs.h <<EOF
#define SIZEOF_CHAR $ac_cv_sizeof_char
EOF


echo $ac_n "checking size of short int""... $ac_c" 1>&6
echo "configure:3395: checking size of short int" >&5
if eval "test \"`echo '$''{'ac_cv_sizeof_short_int'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
  ac_cv_sizeof_short_int=2
else
  cat > conftest.$ac_ext <<EOF
#line 3403 "configure"
#include "confdefs.h"
#include <stdio.h>
main()
{
  FILE *f=fopen("conftestval", "w");
  if (!f) exit(1);
  fprintf(f, "%d\n", sizeof(short int));
  exit(0);
}
EOF
if { (eval echo configure:3414: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  ac_cv_sizeof_short_int=`cat conftestval`
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  ac_cv_sizeof_short_int=0
fi
rm -fr conftest*
fi

fi
echo "$ac_t""$ac_cv_sizeof_short_int" 1>&6
cat >> confdefs.h <<EOF
#define SIZEOF_SHORT_INT $ac_cv_sizeof_short_int
EOF


echo $ac_n "checking size of int""... $ac_c" 1>&6
echo "configure:3434: checking size of int" >&5
if eval "test \"`echo '$''{'ac_cv_sizeof_int'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
  ac_cv_sizeof_int=4
else
  cat > conftest.$ac_ext <<EOF
#line 3442 "configure"
#include "confdefs.h"
#include <stdio.h>
main()
{
  FILE *f=fopen("conftestval", "w");
  if (!f) exit(1);
  fprintf(f, "%d\n", sizeof(int));
  exit(0);
}
EOF
if { (eval echo configure:3453: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  ac_cv_sizeof_int=`cat conftestval`
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  ac_cv_sizeof_int=0
fi
rm -fr conftest*
fi

fi
echo "$ac_t""$ac_cv_sizeof_int" 1>&6
cat >> confdefs.h <<EOF
#define SIZEOF_INT $ac_cv_sizeof_int
EOF


echo $ac_n "checking size of long int""... $ac_c" 1>&6
echo "configure:3473: checking size of long int" >&5
if eval "test \"`echo '$''{'ac_cv_sizeof_long_int'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
  ac_cv_sizeof_long_int=4
else
  cat > conftest.$ac_ext <<EOF
#line 3481 "configure"
#include "confdefs.h"
#include <stdio.h>
main()
{
  FILE *f=fopen("conftestval", "w");
  if (!f) exit(1);
  fprintf(f, "%d\n", sizeof(long int));
  exit(0);
}
EOF
if { (eval echo configure:3492: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  ac_cv_sizeof_long_int=`cat conftestval`
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  ac_cv_sizeof_long_int=0
fi
rm -fr conftest*
fi

fi
echo "$ac_t""$ac_cv_sizeof_long_int" 1>&6
cat >> confdefs.h <<EOF
#define SIZEOF_LONG_INT $ac_cv_sizeof_long_int
EOF


echo $ac_n "checking size of long long int""... $ac_c" 1>&6
echo "configure:3512: checking size of long long int" >&5
if eval "test \"`echo '$''{'ac_cv_sizeof_long_long_int'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
  ac_cv_sizeof_long_long_int=8
else
  cat > conftest.$ac_ext <<EOF
#line 3520 "configure"
#include "confdefs.h"
#include <stdio.h>
main()
{
  FILE *f=fopen("conftestval", "w");
  if (!f) exit(1);
  fprintf(f, "%d\n", sizeof(long long int));
  exit(0);
}
EOF
if { (eval echo configure:3531: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  ac_cv_sizeof_long_long_int=`cat conftestval`
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  ac_cv_sizeof_long_long_int=0
fi
rm -fr conftest*
fi

fi
echo "$ac_t""$ac_cv_sizeof_long_long_int" 1>&6
cat >> confdefs.h <<EOF
#define SIZEOF_LONG_LONG_INT $ac_cv_sizeof_long_long_int
EOF



# More checks for data types
echo $ac_n "checking for u_int type""... $ac_c" 1>&6
echo "configure:3553: checking for u_int type" >&5
if eval "test \"`echo '$''{'ac_cv_have_u_int'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
	cat > conftest.$ac_ext <<EOF
#line 3559 "configure"
#include "confdefs.h"
 #include <sys/types.h> 
int main() {
 u_int a; a = 1;
; return 0; }
EOF
if { (eval echo configure:3566: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
   ac_cv_have_u_int="yes" 
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
   ac_cv_have_u_int="no" 
	
fi
rm -f conftest*

fi

echo "$ac_t""$ac_cv_have_u_int" 1>&6
if test "x$ac_cv_have_u_int" = "xyes" ; then
	cat >> confdefs.h <<\EOF
#define HAVE_U_INT 1
EOF

	have_u_int=1
fi

echo $ac_n "checking for intXX_t types""... $ac_c" 1>&6
echo "configure:3590: checking for intXX_t types" >&5
if eval "test \"`echo '$''{'ac_cv_have_intxx_t'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
	cat > conftest.$ac_ext <<EOF
#line 3596 "configure"
#include "confdefs.h"
 #include <sys/types.h> 
int main() {
 int8_t a; int16_t b; int32_t c; a = b = c = 1;
; return 0; }
EOF
if { (eval echo configure:3603: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
   ac_cv_have_intxx_t="yes" 
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
   ac_cv_have_intxx_t="no" 
	
fi
rm -f conftest*

fi

echo "$ac_t""$ac_cv_have_intxx_t" 1>&6
if test "x$ac_cv_have_intxx_t" = "xyes" ; then
	cat >> confdefs.h <<\EOF
#define HAVE_INTXX_T 1
EOF

	have_intxx_t=1
fi
	
echo $ac_n "checking for int64_t type""... $ac_c" 1>&6
echo "configure:3627: checking for int64_t type" >&5
if eval "test \"`echo '$''{'ac_cv_have_int64_t'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
	cat > conftest.$ac_ext <<EOF
#line 3633 "configure"
#include "confdefs.h"
 #include <sys/types.h> 
int main() {
 int64_t a; a = 1;
; return 0; }
EOF
if { (eval echo configure:3640: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
   ac_cv_have_int64_t="yes" 
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
   ac_cv_have_int64_t="no" 
	
fi
rm -f conftest*

fi

echo "$ac_t""$ac_cv_have_int64_t" 1>&6
if test "x$ac_cv_have_int64_t" = "xyes" ; then
	cat >> confdefs.h <<\EOF
#define HAVE_INT64_T 1
EOF

	have_int64_t=1
fi
	
echo $ac_n "checking for u_intXX_t types""... $ac_c" 1>&6
echo "configure:3664: checking for u_intXX_t types" >&5
if eval "test \"`echo '$''{'ac_cv_have_u_intxx_t'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
	cat > conftest.$ac_ext <<EOF
#line 3670 "configure"
#include "confdefs.h"
 #include <sys/types.h> 
int main() {
 u_int8_t a; u_int16_t b; u_int32_t c; a = b = c = 1;
; return 0; }
EOF
if { (eval echo configure:3677: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
   ac_cv_have_u_intxx_t="yes" 
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
   ac_cv_have_u_intxx_t="no" 
	
fi
rm -f conftest*

fi

echo "$ac_t""$ac_cv_have_u_intxx_t" 1>&6
if test "x$ac_cv_have_u_intxx_t" = "xyes" ; then
	cat >> confdefs.h <<\EOF
#define HAVE_U_INTXX_T 1
EOF

	have_u_intxx_t=1
fi

echo $ac_n "checking for u_int64_t types""... $ac_c" 1>&6
echo "configure:3701: checking for u_int64_t types" >&5
if eval "test \"`echo '$''{'ac_cv_have_u_int64_t'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
	cat > conftest.$ac_ext <<EOF
#line 3707 "configure"
#include "confdefs.h"
 #include <sys/types.h> 
int main() {
 u_int64_t a; a = 1;
; return 0; }
EOF
if { (eval echo configure:3714: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
   ac_cv_have_u_int64_t="yes" 
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
   ac_cv_have_u_int64_t="no" 
	
fi
rm -f conftest*

fi

echo "$ac_t""$ac_cv_have_u_int64_t" 1>&6
if test "x$ac_cv_have_u_int64_t" = "xyes" ; then
	cat >> confdefs.h <<\EOF
#define HAVE_U_INT64_T 1
EOF

	have_u_int64_t=1
fi

if (test -z "$have_u_intxx_t" || test -z "$have_intxx_t" && \
           test "x$ac_cv_header_sys_bitypes_h" = "xyes")
then
	echo $ac_n "checking for intXX_t and u_intXX_t types in sys/bitypes.h""... $ac_c" 1>&6
echo "configure:3741: checking for intXX_t and u_intXX_t types in sys/bitypes.h" >&5
	cat > conftest.$ac_ext <<EOF
#line 3743 "configure"
#include "confdefs.h"

#include <sys/bitypes.h>
		
int main() {

			int8_t a; int16_t b; int32_t c;
			u_int8_t e; u_int16_t f; u_int32_t g;
			a = b = c = e = f = g = 1;
		
; return 0; }
EOF
if { (eval echo configure:3756: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  
			cat >> confdefs.h <<\EOF
#define HAVE_U_INTXX_T 1
EOF

			cat >> confdefs.h <<\EOF
#define HAVE_INTXX_T 1
EOF

			echo "$ac_t""yes" 1>&6
		
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  echo "$ac_t""no" 1>&6
	
fi
rm -f conftest* 
fi

if test -z "$have_u_intxx_t" ; then
	echo $ac_n "checking for uintXX_t types""... $ac_c" 1>&6
echo "configure:3781: checking for uintXX_t types" >&5
if eval "test \"`echo '$''{'ac_cv_have_uintxx_t'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
		cat > conftest.$ac_ext <<EOF
#line 3787 "configure"
#include "confdefs.h"

#include <sys/types.h>
			
int main() {
 uint8_t a; uint16_t b; uint32_t c; a = b = c = 1; 
; return 0; }
EOF
if { (eval echo configure:3796: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
   ac_cv_have_uintxx_t="yes" 
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
   ac_cv_have_uintxx_t="no" 
		
fi
rm -f conftest*
	
fi

echo "$ac_t""$ac_cv_have_uintxx_t" 1>&6
	if test "x$ac_cv_have_uintxx_t" = "xyes" ; then
		cat >> confdefs.h <<\EOF
#define HAVE_UINTXX_T 1
EOF

	fi
fi

echo $ac_n "checking for socklen_t""... $ac_c" 1>&6
echo "configure:3820: checking for socklen_t" >&5
if eval "test \"`echo '$''{'ac_cv_have_socklen_t'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
	cat > conftest.$ac_ext <<EOF
#line 3826 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <sys/socket.h>
		
int main() {
socklen_t foo; foo = 1235;
; return 0; }
EOF
if { (eval echo configure:3836: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
   ac_cv_have_socklen_t="yes" 
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
   ac_cv_have_socklen_t="no" 
	
fi
rm -f conftest*

fi

echo "$ac_t""$ac_cv_have_socklen_t" 1>&6
if test "x$ac_cv_have_socklen_t" = "xyes" ; then
	cat >> confdefs.h <<\EOF
#define HAVE_SOCKLEN_T 1
EOF

fi

echo $ac_n "checking for size_t""... $ac_c" 1>&6
echo "configure:3859: checking for size_t" >&5
if eval "test \"`echo '$''{'ac_cv_have_size_t'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
	cat > conftest.$ac_ext <<EOF
#line 3865 "configure"
#include "confdefs.h"

#include <sys/types.h>
		
int main() {
 size_t foo; foo = 1235; 
; return 0; }
EOF
if { (eval echo configure:3874: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
   ac_cv_have_size_t="yes" 
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
   ac_cv_have_size_t="no" 
	
fi
rm -f conftest*

fi

echo "$ac_t""$ac_cv_have_size_t" 1>&6
if test "x$ac_cv_have_size_t" = "xyes" ; then
	cat >> confdefs.h <<\EOF
#define HAVE_SIZE_T 1
EOF

fi

echo $ac_n "checking for ssize_t""... $ac_c" 1>&6
echo "configure:3897: checking for ssize_t" >&5
if eval "test \"`echo '$''{'ac_cv_have_ssize_t'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
	cat > conftest.$ac_ext <<EOF
#line 3903 "configure"
#include "confdefs.h"

#include <sys/types.h>
		
int main() {
 ssize_t foo; foo = 1235; 
; return 0; }
EOF
if { (eval echo configure:3912: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
   ac_cv_have_ssize_t="yes" 
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
   ac_cv_have_ssize_t="no" 
	
fi
rm -f conftest*

fi

echo "$ac_t""$ac_cv_have_ssize_t" 1>&6
if test "x$ac_cv_have_ssize_t" = "xyes" ; then
	cat >> confdefs.h <<\EOF
#define HAVE_SSIZE_T 1
EOF

fi

echo $ac_n "checking for sa_family_t""... $ac_c" 1>&6
echo "configure:3935: checking for sa_family_t" >&5
if eval "test \"`echo '$''{'ac_cv_have_sa_family_t'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
	cat > conftest.$ac_ext <<EOF
#line 3941 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <sys/socket.h>
		
int main() {
 sa_family_t foo; foo = 1235; 
; return 0; }
EOF
if { (eval echo configure:3951: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
   ac_cv_have_sa_family_t="yes" 
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
   cat > conftest.$ac_ext <<EOF
#line 3959 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <sys/socket.h>
#include <netinet/in.h>
		
int main() {
 sa_family_t foo; foo = 1235; 
; return 0; }
EOF
if { (eval echo configure:3970: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
   ac_cv_have_sa_family_t="yes" 
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
   ac_cv_have_sa_family_t="no" 
	
fi
rm -f conftest*
	
fi
rm -f conftest*

fi

echo "$ac_t""$ac_cv_have_sa_family_t" 1>&6
if test "x$ac_cv_have_sa_family_t" = "xyes" ; then
	cat >> confdefs.h <<\EOF
#define HAVE_SA_FAMILY_T 1
EOF

fi

echo $ac_n "checking for pid_t""... $ac_c" 1>&6
echo "configure:3996: checking for pid_t" >&5
if eval "test \"`echo '$''{'ac_cv_have_pid_t'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
	cat > conftest.$ac_ext <<EOF
#line 4002 "configure"
#include "confdefs.h"

#include <sys/types.h>
		
int main() {
 pid_t foo; foo = 1235; 
; return 0; }
EOF
if { (eval echo configure:4011: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
   ac_cv_have_pid_t="yes" 
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
   ac_cv_have_pid_t="no" 
	
fi
rm -f conftest*

fi

echo "$ac_t""$ac_cv_have_pid_t" 1>&6
if test "x$ac_cv_have_pid_t" = "xyes" ; then
	cat >> confdefs.h <<\EOF
#define HAVE_PID_T 1
EOF

fi

echo $ac_n "checking for mode_t""... $ac_c" 1>&6
echo "configure:4034: checking for mode_t" >&5
if eval "test \"`echo '$''{'ac_cv_have_mode_t'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
	cat > conftest.$ac_ext <<EOF
#line 4040 "configure"
#include "confdefs.h"

#include <sys/types.h>
		
int main() {
 mode_t foo; foo = 1235; 
; return 0; }
EOF
if { (eval echo configure:4049: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
   ac_cv_have_mode_t="yes" 
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
   ac_cv_have_mode_t="no" 
	
fi
rm -f conftest*

fi

echo "$ac_t""$ac_cv_have_mode_t" 1>&6
if test "x$ac_cv_have_mode_t" = "xyes" ; then
	cat >> confdefs.h <<\EOF
#define HAVE_MODE_T 1
EOF

fi


echo $ac_n "checking for struct sockaddr_storage""... $ac_c" 1>&6
echo "configure:4073: checking for struct sockaddr_storage" >&5
if eval "test \"`echo '$''{'ac_cv_have_struct_sockaddr_storage'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
	cat > conftest.$ac_ext <<EOF
#line 4079 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <sys/socket.h>
		
int main() {
 struct sockaddr_storage s; 
; return 0; }
EOF
if { (eval echo configure:4089: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
   ac_cv_have_struct_sockaddr_storage="yes" 
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
   ac_cv_have_struct_sockaddr_storage="no" 
	
fi
rm -f conftest*

fi

echo "$ac_t""$ac_cv_have_struct_sockaddr_storage" 1>&6
if test "x$ac_cv_have_struct_sockaddr_storage" = "xyes" ; then
	cat >> confdefs.h <<\EOF
#define HAVE_STRUCT_SOCKADDR_STORAGE 1
EOF

fi

echo $ac_n "checking for struct sockaddr_in6""... $ac_c" 1>&6
echo "configure:4112: checking for struct sockaddr_in6" >&5
if eval "test \"`echo '$''{'ac_cv_have_struct_sockaddr_in6'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
	cat > conftest.$ac_ext <<EOF
#line 4118 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <netinet/in.h>
		
int main() {
 struct sockaddr_in6 s; s.sin6_family = 0; 
; return 0; }
EOF
if { (eval echo configure:4128: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
   ac_cv_have_struct_sockaddr_in6="yes" 
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
   ac_cv_have_struct_sockaddr_in6="no" 
	
fi
rm -f conftest*

fi

echo "$ac_t""$ac_cv_have_struct_sockaddr_in6" 1>&6
if test "x$ac_cv_have_struct_sockaddr_in6" = "xyes" ; then
	cat >> confdefs.h <<\EOF
#define HAVE_STRUCT_SOCKADDR_IN6 1
EOF

fi

echo $ac_n "checking for struct in6_addr""... $ac_c" 1>&6
echo "configure:4151: checking for struct in6_addr" >&5
if eval "test \"`echo '$''{'ac_cv_have_struct_in6_addr'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
	cat > conftest.$ac_ext <<EOF
#line 4157 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <netinet/in.h>
		
int main() {
 struct in6_addr s; s.s6_addr[0] = 0; 
; return 0; }
EOF
if { (eval echo configure:4167: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
   ac_cv_have_struct_in6_addr="yes" 
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
   ac_cv_have_struct_in6_addr="no" 
	
fi
rm -f conftest*

fi

echo "$ac_t""$ac_cv_have_struct_in6_addr" 1>&6
if test "x$ac_cv_have_struct_in6_addr" = "xyes" ; then
	cat >> confdefs.h <<\EOF
#define HAVE_STRUCT_IN6_ADDR 1
EOF

fi

echo $ac_n "checking for struct addrinfo""... $ac_c" 1>&6
echo "configure:4190: checking for struct addrinfo" >&5
if eval "test \"`echo '$''{'ac_cv_have_struct_addrinfo'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
	cat > conftest.$ac_ext <<EOF
#line 4196 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <sys/socket.h>
#include <netdb.h>
		
int main() {
 struct addrinfo s; s.ai_flags = AI_PASSIVE; 
; return 0; }
EOF
if { (eval echo configure:4207: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
   ac_cv_have_struct_addrinfo="yes" 
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
   ac_cv_have_struct_addrinfo="no" 
	
fi
rm -f conftest*

fi

echo "$ac_t""$ac_cv_have_struct_addrinfo" 1>&6
if test "x$ac_cv_have_struct_addrinfo" = "xyes" ; then
	cat >> confdefs.h <<\EOF
#define HAVE_STRUCT_ADDRINFO 1
EOF

fi


# look for field 'ut_host' in header 'utmp.h'
		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_host
	echo $ac_n "checking for ut_host field in utmp.h""... $ac_c" 1>&6
echo "configure:4234: checking for ut_host field in utmp.h" >&5
	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
		cat > conftest.$ac_ext <<EOF
#line 4240 "configure"
#include "confdefs.h"
#include <utmp.h>
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "ut_host" >/dev/null 2>&1; then
  rm -rf conftest*
   			eval "$ossh_varname=yes" 		
else
  rm -rf conftest*
   			eval "$ossh_varname=no" 		
fi
rm -f conftest*
 	
fi

	ossh_result=`eval 'echo $'"$ossh_varname"`
	if test -n "`echo $ossh_varname`"; then
		echo "$ac_t""$ossh_result" 1>&6
		if test "x$ossh_result" = "xyes"; then
			cat >> confdefs.h <<\EOF
#define HAVE_HOST_IN_UTMP 1
EOF

		fi
	else
		echo "$ac_t""no" 1>&6
	fi


# look for field 'ut_host' in header 'utmpx.h'
		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_host
	echo $ac_n "checking for ut_host field in utmpx.h""... $ac_c" 1>&6
echo "configure:4274: checking for ut_host field in utmpx.h" >&5
	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
		cat > conftest.$ac_ext <<EOF
#line 4280 "configure"
#include "confdefs.h"
#include <utmpx.h>
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "ut_host" >/dev/null 2>&1; then
  rm -rf conftest*
   			eval "$ossh_varname=yes" 		
else
  rm -rf conftest*
   			eval "$ossh_varname=no" 		
fi
rm -f conftest*
 	
fi

	ossh_result=`eval 'echo $'"$ossh_varname"`
	if test -n "`echo $ossh_varname`"; then
		echo "$ac_t""$ossh_result" 1>&6
		if test "x$ossh_result" = "xyes"; then
			cat >> confdefs.h <<\EOF
#define HAVE_HOST_IN_UTMPX 1
EOF

		fi
	else
		echo "$ac_t""no" 1>&6
	fi


# look for field 'syslen' in header 'utmpx.h'
		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
		ossh_varname="ossh_cv_$ossh_safe""_has_"syslen
	echo $ac_n "checking for syslen field in utmpx.h""... $ac_c" 1>&6
echo "configure:4314: checking for syslen field in utmpx.h" >&5
	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
		cat > conftest.$ac_ext <<EOF
#line 4320 "configure"
#include "confdefs.h"
#include <utmpx.h>
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "syslen" >/dev/null 2>&1; then
  rm -rf conftest*
   			eval "$ossh_varname=yes" 		
else
  rm -rf conftest*
   			eval "$ossh_varname=no" 		
fi
rm -f conftest*
 	
fi

	ossh_result=`eval 'echo $'"$ossh_varname"`
	if test -n "`echo $ossh_varname`"; then
		echo "$ac_t""$ossh_result" 1>&6
		if test "x$ossh_result" = "xyes"; then
			cat >> confdefs.h <<\EOF
#define HAVE_SYSLEN_IN_UTMPX 1
EOF

		fi
	else
		echo "$ac_t""no" 1>&6
	fi


# look for field 'ut_pid' in header 'utmp.h'
		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_pid
	echo $ac_n "checking for ut_pid field in utmp.h""... $ac_c" 1>&6
echo "configure:4354: checking for ut_pid field in utmp.h" >&5
	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
		cat > conftest.$ac_ext <<EOF
#line 4360 "configure"
#include "confdefs.h"
#include <utmp.h>
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "ut_pid" >/dev/null 2>&1; then
  rm -rf conftest*
   			eval "$ossh_varname=yes" 		
else
  rm -rf conftest*
   			eval "$ossh_varname=no" 		
fi
rm -f conftest*
 	
fi

	ossh_result=`eval 'echo $'"$ossh_varname"`
	if test -n "`echo $ossh_varname`"; then
		echo "$ac_t""$ossh_result" 1>&6
		if test "x$ossh_result" = "xyes"; then
			cat >> confdefs.h <<\EOF
#define HAVE_PID_IN_UTMP 1
EOF

		fi
	else
		echo "$ac_t""no" 1>&6
	fi


# look for field 'ut_type' in header 'utmp.h'
		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_type
	echo $ac_n "checking for ut_type field in utmp.h""... $ac_c" 1>&6
echo "configure:4394: checking for ut_type field in utmp.h" >&5
	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
		cat > conftest.$ac_ext <<EOF
#line 4400 "configure"
#include "confdefs.h"
#include <utmp.h>
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "ut_type" >/dev/null 2>&1; then
  rm -rf conftest*
   			eval "$ossh_varname=yes" 		
else
  rm -rf conftest*
   			eval "$ossh_varname=no" 		
fi
rm -f conftest*
 	
fi

	ossh_result=`eval 'echo $'"$ossh_varname"`
	if test -n "`echo $ossh_varname`"; then
		echo "$ac_t""$ossh_result" 1>&6
		if test "x$ossh_result" = "xyes"; then
			cat >> confdefs.h <<\EOF
#define HAVE_TYPE_IN_UTMP 1
EOF

		fi
	else
		echo "$ac_t""no" 1>&6
	fi


# look for field 'ut_type' in header 'utmpx.h'
		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_type
	echo $ac_n "checking for ut_type field in utmpx.h""... $ac_c" 1>&6
echo "configure:4434: checking for ut_type field in utmpx.h" >&5
	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
		cat > conftest.$ac_ext <<EOF
#line 4440 "configure"
#include "confdefs.h"
#include <utmpx.h>
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "ut_type" >/dev/null 2>&1; then
  rm -rf conftest*
   			eval "$ossh_varname=yes" 		
else
  rm -rf conftest*
   			eval "$ossh_varname=no" 		
fi
rm -f conftest*
 	
fi

	ossh_result=`eval 'echo $'"$ossh_varname"`
	if test -n "`echo $ossh_varname`"; then
		echo "$ac_t""$ossh_result" 1>&6
		if test "x$ossh_result" = "xyes"; then
			cat >> confdefs.h <<\EOF
#define HAVE_TYPE_IN_UTMPX 1
EOF

		fi
	else
		echo "$ac_t""no" 1>&6
	fi


# look for field 'ut_tv' in header 'utmp.h'
		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_tv
	echo $ac_n "checking for ut_tv field in utmp.h""... $ac_c" 1>&6
echo "configure:4474: checking for ut_tv field in utmp.h" >&5
	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
		cat > conftest.$ac_ext <<EOF
#line 4480 "configure"
#include "confdefs.h"
#include <utmp.h>
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "ut_tv" >/dev/null 2>&1; then
  rm -rf conftest*
   			eval "$ossh_varname=yes" 		
else
  rm -rf conftest*
   			eval "$ossh_varname=no" 		
fi
rm -f conftest*
 	
fi

	ossh_result=`eval 'echo $'"$ossh_varname"`
	if test -n "`echo $ossh_varname`"; then
		echo "$ac_t""$ossh_result" 1>&6
		if test "x$ossh_result" = "xyes"; then
			cat >> confdefs.h <<\EOF
#define HAVE_TV_IN_UTMP 1
EOF

		fi
	else
		echo "$ac_t""no" 1>&6
	fi


# look for field 'ut_id' in header 'utmp.h'
		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_id
	echo $ac_n "checking for ut_id field in utmp.h""... $ac_c" 1>&6
echo "configure:4514: checking for ut_id field in utmp.h" >&5
	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
		cat > conftest.$ac_ext <<EOF
#line 4520 "configure"
#include "confdefs.h"
#include <utmp.h>
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "ut_id" >/dev/null 2>&1; then
  rm -rf conftest*
   			eval "$ossh_varname=yes" 		
else
  rm -rf conftest*
   			eval "$ossh_varname=no" 		
fi
rm -f conftest*
 	
fi

	ossh_result=`eval 'echo $'"$ossh_varname"`
	if test -n "`echo $ossh_varname`"; then
		echo "$ac_t""$ossh_result" 1>&6
		if test "x$ossh_result" = "xyes"; then
			cat >> confdefs.h <<\EOF
#define HAVE_ID_IN_UTMP 1
EOF

		fi
	else
		echo "$ac_t""no" 1>&6
	fi


# look for field 'ut_id' in header 'utmpx.h'
		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_id
	echo $ac_n "checking for ut_id field in utmpx.h""... $ac_c" 1>&6
echo "configure:4554: checking for ut_id field in utmpx.h" >&5
	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
		cat > conftest.$ac_ext <<EOF
#line 4560 "configure"
#include "confdefs.h"
#include <utmpx.h>
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "ut_id" >/dev/null 2>&1; then
  rm -rf conftest*
   			eval "$ossh_varname=yes" 		
else
  rm -rf conftest*
   			eval "$ossh_varname=no" 		
fi
rm -f conftest*
 	
fi

	ossh_result=`eval 'echo $'"$ossh_varname"`
	if test -n "`echo $ossh_varname`"; then
		echo "$ac_t""$ossh_result" 1>&6
		if test "x$ossh_result" = "xyes"; then
			cat >> confdefs.h <<\EOF
#define HAVE_ID_IN_UTMPX 1
EOF

		fi
	else
		echo "$ac_t""no" 1>&6
	fi


# look for field 'ut_addr' in header 'utmp.h'
		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_addr
	echo $ac_n "checking for ut_addr field in utmp.h""... $ac_c" 1>&6
echo "configure:4594: checking for ut_addr field in utmp.h" >&5
	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
		cat > conftest.$ac_ext <<EOF
#line 4600 "configure"
#include "confdefs.h"
#include <utmp.h>
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "ut_addr" >/dev/null 2>&1; then
  rm -rf conftest*
   			eval "$ossh_varname=yes" 		
else
  rm -rf conftest*
   			eval "$ossh_varname=no" 		
fi
rm -f conftest*
 	
fi

	ossh_result=`eval 'echo $'"$ossh_varname"`
	if test -n "`echo $ossh_varname`"; then
		echo "$ac_t""$ossh_result" 1>&6
		if test "x$ossh_result" = "xyes"; then
			cat >> confdefs.h <<\EOF
#define HAVE_ADDR_IN_UTMP 1
EOF

		fi
	else
		echo "$ac_t""no" 1>&6
	fi


# look for field 'ut_addr' in header 'utmpx.h'
		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_addr
	echo $ac_n "checking for ut_addr field in utmpx.h""... $ac_c" 1>&6
echo "configure:4634: checking for ut_addr field in utmpx.h" >&5
	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
		cat > conftest.$ac_ext <<EOF
#line 4640 "configure"
#include "confdefs.h"
#include <utmpx.h>
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "ut_addr" >/dev/null 2>&1; then
  rm -rf conftest*
   			eval "$ossh_varname=yes" 		
else
  rm -rf conftest*
   			eval "$ossh_varname=no" 		
fi
rm -f conftest*
 	
fi

	ossh_result=`eval 'echo $'"$ossh_varname"`
	if test -n "`echo $ossh_varname`"; then
		echo "$ac_t""$ossh_result" 1>&6
		if test "x$ossh_result" = "xyes"; then
			cat >> confdefs.h <<\EOF
#define HAVE_ADDR_IN_UTMPX 1
EOF

		fi
	else
		echo "$ac_t""no" 1>&6
	fi


# look for field 'ut_addr_v6' in header 'utmp.h'
		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_addr_v6
	echo $ac_n "checking for ut_addr_v6 field in utmp.h""... $ac_c" 1>&6
echo "configure:4674: checking for ut_addr_v6 field in utmp.h" >&5
	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
		cat > conftest.$ac_ext <<EOF
#line 4680 "configure"
#include "confdefs.h"
#include <utmp.h>
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "ut_addr_v6" >/dev/null 2>&1; then
  rm -rf conftest*
   			eval "$ossh_varname=yes" 		
else
  rm -rf conftest*
   			eval "$ossh_varname=no" 		
fi
rm -f conftest*
 	
fi

	ossh_result=`eval 'echo $'"$ossh_varname"`
	if test -n "`echo $ossh_varname`"; then
		echo "$ac_t""$ossh_result" 1>&6
		if test "x$ossh_result" = "xyes"; then
			cat >> confdefs.h <<\EOF
#define HAVE_ADDR_V6_IN_UTMP 1
EOF

		fi
	else
		echo "$ac_t""no" 1>&6
	fi


# look for field 'ut_addr_v6' in header 'utmpx.h'
		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_addr_v6
	echo $ac_n "checking for ut_addr_v6 field in utmpx.h""... $ac_c" 1>&6
echo "configure:4714: checking for ut_addr_v6 field in utmpx.h" >&5
	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
		cat > conftest.$ac_ext <<EOF
#line 4720 "configure"
#include "confdefs.h"
#include <utmpx.h>
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "ut_addr_v6" >/dev/null 2>&1; then
  rm -rf conftest*
   			eval "$ossh_varname=yes" 		
else
  rm -rf conftest*
   			eval "$ossh_varname=no" 		
fi
rm -f conftest*
 	
fi

	ossh_result=`eval 'echo $'"$ossh_varname"`
	if test -n "`echo $ossh_varname`"; then
		echo "$ac_t""$ossh_result" 1>&6
		if test "x$ossh_result" = "xyes"; then
			cat >> confdefs.h <<\EOF
#define HAVE_ADDR_V6_IN_UTMPX 1
EOF

		fi
	else
		echo "$ac_t""no" 1>&6
	fi


# look for field 'ut_exit' in header 'utmp.h'
		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_exit
	echo $ac_n "checking for ut_exit field in utmp.h""... $ac_c" 1>&6
echo "configure:4754: checking for ut_exit field in utmp.h" >&5
	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
		cat > conftest.$ac_ext <<EOF
#line 4760 "configure"
#include "confdefs.h"
#include <utmp.h>
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "ut_exit" >/dev/null 2>&1; then
  rm -rf conftest*
   			eval "$ossh_varname=yes" 		
else
  rm -rf conftest*
   			eval "$ossh_varname=no" 		
fi
rm -f conftest*
 	
fi

	ossh_result=`eval 'echo $'"$ossh_varname"`
	if test -n "`echo $ossh_varname`"; then
		echo "$ac_t""$ossh_result" 1>&6
		if test "x$ossh_result" = "xyes"; then
			cat >> confdefs.h <<\EOF
#define HAVE_EXIT_IN_UTMP 1
EOF

		fi
	else
		echo "$ac_t""no" 1>&6
	fi


# look for field 'ut_time' in header 'utmp.h'
		ossh_safe=`echo "utmp.h" | sed 'y%./+-%__p_%'`
		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_time
	echo $ac_n "checking for ut_time field in utmp.h""... $ac_c" 1>&6
echo "configure:4794: checking for ut_time field in utmp.h" >&5
	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
		cat > conftest.$ac_ext <<EOF
#line 4800 "configure"
#include "confdefs.h"
#include <utmp.h>
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "ut_time" >/dev/null 2>&1; then
  rm -rf conftest*
   			eval "$ossh_varname=yes" 		
else
  rm -rf conftest*
   			eval "$ossh_varname=no" 		
fi
rm -f conftest*
 	
fi

	ossh_result=`eval 'echo $'"$ossh_varname"`
	if test -n "`echo $ossh_varname`"; then
		echo "$ac_t""$ossh_result" 1>&6
		if test "x$ossh_result" = "xyes"; then
			cat >> confdefs.h <<\EOF
#define HAVE_TIME_IN_UTMP 1
EOF

		fi
	else
		echo "$ac_t""no" 1>&6
	fi


# look for field 'ut_time' in header 'utmpx.h'
		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_time
	echo $ac_n "checking for ut_time field in utmpx.h""... $ac_c" 1>&6
echo "configure:4834: checking for ut_time field in utmpx.h" >&5
	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
		cat > conftest.$ac_ext <<EOF
#line 4840 "configure"
#include "confdefs.h"
#include <utmpx.h>
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "ut_time" >/dev/null 2>&1; then
  rm -rf conftest*
   			eval "$ossh_varname=yes" 		
else
  rm -rf conftest*
   			eval "$ossh_varname=no" 		
fi
rm -f conftest*
 	
fi

	ossh_result=`eval 'echo $'"$ossh_varname"`
	if test -n "`echo $ossh_varname`"; then
		echo "$ac_t""$ossh_result" 1>&6
		if test "x$ossh_result" = "xyes"; then
			cat >> confdefs.h <<\EOF
#define HAVE_TIME_IN_UTMPX 1
EOF

		fi
	else
		echo "$ac_t""no" 1>&6
	fi


# look for field 'ut_tv' in header 'utmpx.h'
		ossh_safe=`echo "utmpx.h" | sed 'y%./+-%__p_%'`
		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_tv
	echo $ac_n "checking for ut_tv field in utmpx.h""... $ac_c" 1>&6
echo "configure:4874: checking for ut_tv field in utmpx.h" >&5
	if eval "test \"`echo '$''{'$ossh_varname'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
		cat > conftest.$ac_ext <<EOF
#line 4880 "configure"
#include "confdefs.h"
#include <utmpx.h>
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "ut_tv" >/dev/null 2>&1; then
  rm -rf conftest*
   			eval "$ossh_varname=yes" 		
else
  rm -rf conftest*
   			eval "$ossh_varname=no" 		
fi
rm -f conftest*
 	
fi

	ossh_result=`eval 'echo $'"$ossh_varname"`
	if test -n "`echo $ossh_varname`"; then
		echo "$ac_t""$ossh_result" 1>&6
		if test "x$ossh_result" = "xyes"; then
			cat >> confdefs.h <<\EOF
#define HAVE_TV_IN_UTMPX 1
EOF

		fi
	else
		echo "$ac_t""no" 1>&6
	fi

echo $ac_n "checking for st_blksize in struct stat""... $ac_c" 1>&6
echo "configure:4910: checking for st_blksize in struct stat" >&5
if eval "test \"`echo '$''{'ac_cv_struct_st_blksize'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 4915 "configure"
#include "confdefs.h"
#include <sys/types.h>
#include <sys/stat.h>
int main() {
struct stat s; s.st_blksize;
; return 0; }
EOF
if { (eval echo configure:4923: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  ac_cv_struct_st_blksize=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_cv_struct_st_blksize=no
fi
rm -f conftest*
fi

echo "$ac_t""$ac_cv_struct_st_blksize" 1>&6
if test $ac_cv_struct_st_blksize = yes; then
  cat >> confdefs.h <<\EOF
#define HAVE_ST_BLKSIZE 1
EOF

fi


echo $ac_n "checking for sun_len field in struct sockaddr_un""... $ac_c" 1>&6
echo "configure:4945: checking for sun_len field in struct sockaddr_un" >&5
if eval "test \"`echo '$''{'ac_cv_have_sun_len_in_struct_sockaddr_un'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
	cat > conftest.$ac_ext <<EOF
#line 4951 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <sys/socket.h>
		
int main() {
 struct sockaddr_un s; s.sun_len = 1; 
; return 0; }
EOF
if { (eval echo configure:4961: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
   ac_cv_have_sun_len_in_struct_sockaddr_un="yes" 
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
   ac_cv_have_sun_len_in_struct_sockaddr_un="no" 
fi
rm -f conftest*

fi

echo "$ac_t""$ac_cv_have_sun_len_in_struct_sockaddr_un" 1>&6
if test "x$ac_cv_have_sun_len_in_struct_sockaddr_un" = "xyes" ; then
	cat >> confdefs.h <<\EOF
#define HAVE_SUN_LEN_IN_SOCKADDR_UN 1
EOF

fi

echo $ac_n "checking for ss_family field in struct sockaddr_storage""... $ac_c" 1>&6
echo "configure:4983: checking for ss_family field in struct sockaddr_storage" >&5
if eval "test \"`echo '$''{'ac_cv_have_ss_family_in_struct_ss'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
	cat > conftest.$ac_ext <<EOF
#line 4989 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <sys/socket.h>
		
int main() {
 struct sockaddr_storage s; s.ss_family = 1; 
; return 0; }
EOF
if { (eval echo configure:4999: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
   ac_cv_have_ss_family_in_struct_ss="yes" 
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
   ac_cv_have_ss_family_in_struct_ss="no" 
fi
rm -f conftest*

fi

echo "$ac_t""$ac_cv_have_ss_family_in_struct_ss" 1>&6
if test "x$ac_cv_have_ss_family_in_struct_ss" = "xyes" ; then
	cat >> confdefs.h <<\EOF
#define HAVE_SS_FAMILY_IN_SS 1
EOF

fi

echo $ac_n "checking for __ss_family field in struct sockaddr_storage""... $ac_c" 1>&6
echo "configure:5021: checking for __ss_family field in struct sockaddr_storage" >&5
if eval "test \"`echo '$''{'ac_cv_have___ss_family_in_struct_ss'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
	cat > conftest.$ac_ext <<EOF
#line 5027 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <sys/socket.h>
		
int main() {
 struct sockaddr_storage s; s.__ss_family = 1; 
; return 0; }
EOF
if { (eval echo configure:5037: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
   ac_cv_have___ss_family_in_struct_ss="yes" 
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
   ac_cv_have___ss_family_in_struct_ss="no" 
	
fi
rm -f conftest*

fi

echo "$ac_t""$ac_cv_have___ss_family_in_struct_ss" 1>&6
if test "x$ac_cv_have___ss_family_in_struct_ss" = "xyes" ; then
	cat >> confdefs.h <<\EOF
#define HAVE___SS_FAMILY_IN_SS 1
EOF

fi

echo $ac_n "checking for pw_class field in struct passwd""... $ac_c" 1>&6
echo "configure:5060: checking for pw_class field in struct passwd" >&5
if eval "test \"`echo '$''{'ac_cv_have_pw_class_in_struct_passwd'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
	cat > conftest.$ac_ext <<EOF
#line 5066 "configure"
#include "confdefs.h"

#include <pwd.h>
		
int main() {
 struct passwd p; p.pw_class = 0; 
; return 0; }
EOF
if { (eval echo configure:5075: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
   ac_cv_have_pw_class_in_struct_passwd="yes" 
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
   ac_cv_have_pw_class_in_struct_passwd="no" 
	
fi
rm -f conftest*

fi

echo "$ac_t""$ac_cv_have_pw_class_in_struct_passwd" 1>&6
if test "x$ac_cv_have_pw_class_in_struct_passwd" = "xyes" ; then
	cat >> confdefs.h <<\EOF
#define HAVE_PW_CLASS_IN_PASSWD 1
EOF

fi


echo $ac_n "checking if libc defines __progname""... $ac_c" 1>&6
echo "configure:5099: checking if libc defines __progname" >&5
if eval "test \"`echo '$''{'ac_cv_libc_defines___progname'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
	cat > conftest.$ac_ext <<EOF
#line 5105 "configure"
#include "confdefs.h"

int main() {
 extern char *__progname; printf("%s", __progname); 
; return 0; }
EOF
if { (eval echo configure:5112: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
   ac_cv_libc_defines___progname="yes" 
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
   ac_cv_libc_defines___progname="no" 
	
fi
rm -f conftest*

fi

echo "$ac_t""$ac_cv_libc_defines___progname" 1>&6
if test "x$ac_cv_libc_defines___progname" = "xyes" ; then
	cat >> confdefs.h <<\EOF
#define HAVE___PROGNAME 1
EOF

fi


echo $ac_n "checking if libc defines sys_errlist""... $ac_c" 1>&6
echo "configure:5136: checking if libc defines sys_errlist" >&5
if eval "test \"`echo '$''{'ac_cv_libc_defines_sys_errlist'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
	cat > conftest.$ac_ext <<EOF
#line 5142 "configure"
#include "confdefs.h"

int main() {
 extern const char *const sys_errlist[]; printf("%s", sys_errlist[0]);
; return 0; }
EOF
if { (eval echo configure:5149: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
   ac_cv_libc_defines_sys_errlist="yes" 
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
   ac_cv_libc_defines_sys_errlist="no" 
	
fi
rm -f conftest*

fi

echo "$ac_t""$ac_cv_libc_defines_sys_errlist" 1>&6
if test "x$ac_cv_libc_defines_sys_errlist" = "xyes" ; then
	cat >> confdefs.h <<\EOF
#define HAVE_SYS_ERRLIST 1
EOF

fi


echo $ac_n "checking if libc defines sys_nerr""... $ac_c" 1>&6
echo "configure:5173: checking if libc defines sys_nerr" >&5
if eval "test \"`echo '$''{'ac_cv_libc_defines_sys_nerr'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
	cat > conftest.$ac_ext <<EOF
#line 5179 "configure"
#include "confdefs.h"

int main() {
 extern int sys_nerr; printf("%i", sys_nerr);
; return 0; }
EOF
if { (eval echo configure:5186: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
   ac_cv_libc_defines_sys_nerr="yes" 
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
   ac_cv_libc_defines_sys_nerr="no" 
	
fi
rm -f conftest*

fi

echo "$ac_t""$ac_cv_libc_defines_sys_nerr" 1>&6
if test "x$ac_cv_libc_defines_sys_nerr" = "xyes" ; then
	cat >> confdefs.h <<\EOF
#define HAVE_SYS_NERR 1
EOF

fi


# Looking for programs, paths and files
# Check whether --with-rsh or --without-rsh was given.
if test "${with_rsh+set}" = set; then
  withval="$with_rsh"
  
		if test "x$withval" != "$no" ; then
			rsh_path=$withval
		fi
	
else
  
		# Extract the first word of "rsh", so it can be a program name with args.
set dummy rsh; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:5223: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_rsh_path'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$rsh_path" in
  /*)
  ac_cv_path_rsh_path="$rsh_path" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_rsh_path="$rsh_path" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_rsh_path="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  ;;
esac
fi
rsh_path="$ac_cv_path_rsh_path"
if test -n "$rsh_path"; then
  echo "$ac_t""$rsh_path" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

	

fi


# Check whether --with-xauth or --without-xauth was given.
if test "${with_xauth+set}" = set; then
  withval="$with_xauth"
  
		if test "x$withval" != "xno" ; then
			xauth_path=$withval
		fi
	
else
  
		# Extract the first word of "xauth", so it can be a program name with args.
set dummy xauth; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:5273: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_xauth_path'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$xauth_path" in
  /*)
  ac_cv_path_xauth_path="$xauth_path" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_xauth_path="$xauth_path" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH:/usr/X/bin:/usr/bin/X11:/usr/X11R6/bin:/usr/openwin/bin"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_xauth_path="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  ;;
esac
fi
xauth_path="$ac_cv_path_xauth_path"
if test -n "$xauth_path"; then
  echo "$ac_t""$xauth_path" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

		if (test ! -z "$xauth_path" && test -x "/usr/openwin/bin/xauth") ; then
			xauth_path="/usr/openwin/bin/xauth"
		fi
	

fi


if test ! -z "$xauth_path" ; then
	cat >> confdefs.h <<EOF
#define XAUTH_PATH "$xauth_path"
EOF

fi
if test ! -z "$rsh_path" ; then
	cat >> confdefs.h <<EOF
#define RSH_PATH "$rsh_path"
EOF

fi

# Check for mail directory (last resort if we cannot get it from headers)
if test ! -z "$MAIL" ; then
	maildir=`dirname $MAIL`
	cat >> confdefs.h <<EOF
#define MAIL_DIRECTORY "$maildir"
EOF

fi

if test -z "$no_dev_ptmx" ; then
	
ac_safe=`echo ""/dev/ptmx"" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for "/dev/ptmx"""... $ac_c" 1>&6
echo "configure:5339: checking for "/dev/ptmx"" >&5
if eval "test \"`echo '$''{'ac_cv_file_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
    { echo "configure: error: Cannot check for file existence when cross compiling" 1>&2; exit 1; }
else
  if test -r "/dev/ptmx"; then
    eval "ac_cv_file_$ac_safe=yes"
  else
    eval "ac_cv_file_$ac_safe=no"
  fi
fi
fi
if eval "test \"`echo '$ac_cv_file_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  
			cat >> confdefs.h <<EOF
#define HAVE_DEV_PTMX 1
EOF

			have_dev_ptmx=1
		
	
else
  echo "$ac_t""no" 1>&6

fi

fi

ac_safe=`echo ""/dev/ptc"" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for "/dev/ptc"""... $ac_c" 1>&6
echo "configure:5372: checking for "/dev/ptc"" >&5
if eval "test \"`echo '$''{'ac_cv_file_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
    { echo "configure: error: Cannot check for file existence when cross compiling" 1>&2; exit 1; }
else
  if test -r "/dev/ptc"; then
    eval "ac_cv_file_$ac_safe=yes"
  else
    eval "ac_cv_file_$ac_safe=no"
  fi
fi
fi
if eval "test \"`echo '$ac_cv_file_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  
		cat >> confdefs.h <<EOF
#define HAVE_DEV_PTS_AND_PTC 1
EOF

		have_dev_ptc=1
	

else
  echo "$ac_t""no" 1>&6

fi


# Options from here on. Some of these are preset by platform above

# Check for user-specified random device, otherwise check /dev/urandom
# Check whether --with-random or --without-random was given.
if test "${with_random+set}" = set; then
  withval="$with_random"
  
		if test "x$withval" != "xno" ; then
			RANDOM_POOL="$withval";
			cat >> confdefs.h <<EOF
#define RANDOM_POOL "$RANDOM_POOL"
EOF

		fi
	
else
  
		# Check for random device
		
ac_safe=`echo ""/dev/urandom"" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for "/dev/urandom"""... $ac_c" 1>&6
echo "configure:5423: checking for "/dev/urandom"" >&5
if eval "test \"`echo '$''{'ac_cv_file_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
    { echo "configure: error: Cannot check for file existence when cross compiling" 1>&2; exit 1; }
else
  if test -r "/dev/urandom"; then
    eval "ac_cv_file_$ac_safe=yes"
  else
    eval "ac_cv_file_$ac_safe=no"
  fi
fi
fi
if eval "test \"`echo '$ac_cv_file_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  
				RANDOM_POOL="/dev/urandom"; 
				
				cat >> confdefs.h <<EOF
#define RANDOM_POOL "$RANDOM_POOL"
EOF

			
		
else
  echo "$ac_t""no" 1>&6

fi

	

fi


# Check for EGD pool file
# Check whether --with-egd-pool or --without-egd-pool was given.
if test "${with_egd_pool+set}" = set; then
  withval="$with_egd_pool"
  
		if test "x$withval" != "xno" ; then
			EGD_SOCKET="$withval";
			cat >> confdefs.h <<EOF
#define EGD_SOCKET "$EGD_SOCKET"
EOF

		fi
	

fi


# detect pathnames for entropy gathering commands, if we need them
INSTALL_SSH_PRNG_CMDS=""
rm -f prng_commands
if (test -z "$RANDOM_POOL" && test -z "$EGD_SOCKET") ; then
	# Use these commands to collect entropy
	
	# Extract the first word of "ls", so it can be a program name with args.
set dummy ls; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:5484: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_PROG_LS'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$PROG_LS" in
  /*)
  ac_cv_path_PROG_LS="$PROG_LS" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_PROG_LS="$PROG_LS" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_PROG_LS="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  ;;
esac
fi
PROG_LS="$ac_cv_path_PROG_LS"
if test -n "$PROG_LS"; then
  echo "$ac_t""$PROG_LS" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

	if test -z "$PROG_LS" ; then
		PROG_LS="undef"
	fi
	

	
	# Extract the first word of "netstat", so it can be a program name with args.
set dummy netstat; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:5525: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_PROG_NETSTAT'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$PROG_NETSTAT" in
  /*)
  ac_cv_path_PROG_NETSTAT="$PROG_NETSTAT" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_PROG_NETSTAT="$PROG_NETSTAT" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_PROG_NETSTAT="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  ;;
esac
fi
PROG_NETSTAT="$ac_cv_path_PROG_NETSTAT"
if test -n "$PROG_NETSTAT"; then
  echo "$ac_t""$PROG_NETSTAT" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

	if test -z "$PROG_NETSTAT" ; then
		PROG_NETSTAT="undef"
	fi
	

	
	# Extract the first word of "arp", so it can be a program name with args.
set dummy arp; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:5566: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_PROG_ARP'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$PROG_ARP" in
  /*)
  ac_cv_path_PROG_ARP="$PROG_ARP" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_PROG_ARP="$PROG_ARP" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_PROG_ARP="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  ;;
esac
fi
PROG_ARP="$ac_cv_path_PROG_ARP"
if test -n "$PROG_ARP"; then
  echo "$ac_t""$PROG_ARP" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

	if test -z "$PROG_ARP" ; then
		PROG_ARP="undef"
	fi
	

	
	# Extract the first word of "ifconfig", so it can be a program name with args.
set dummy ifconfig; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:5607: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_PROG_IFCONFIG'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$PROG_IFCONFIG" in
  /*)
  ac_cv_path_PROG_IFCONFIG="$PROG_IFCONFIG" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_PROG_IFCONFIG="$PROG_IFCONFIG" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_PROG_IFCONFIG="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  ;;
esac
fi
PROG_IFCONFIG="$ac_cv_path_PROG_IFCONFIG"
if test -n "$PROG_IFCONFIG"; then
  echo "$ac_t""$PROG_IFCONFIG" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

	if test -z "$PROG_IFCONFIG" ; then
		PROG_IFCONFIG="undef"
	fi
	

	
	# Extract the first word of "ps", so it can be a program name with args.
set dummy ps; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:5648: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_PROG_PS'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$PROG_PS" in
  /*)
  ac_cv_path_PROG_PS="$PROG_PS" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_PROG_PS="$PROG_PS" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_PROG_PS="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  ;;
esac
fi
PROG_PS="$ac_cv_path_PROG_PS"
if test -n "$PROG_PS"; then
  echo "$ac_t""$PROG_PS" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

	if test -z "$PROG_PS" ; then
		PROG_PS="undef"
	fi
	

	
	# Extract the first word of "w", so it can be a program name with args.
set dummy w; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:5689: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_PROG_W'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$PROG_W" in
  /*)
  ac_cv_path_PROG_W="$PROG_W" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_PROG_W="$PROG_W" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_PROG_W="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  ;;
esac
fi
PROG_W="$ac_cv_path_PROG_W"
if test -n "$PROG_W"; then
  echo "$ac_t""$PROG_W" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

	if test -z "$PROG_W" ; then
		PROG_W="undef"
	fi
	

	
	# Extract the first word of "who", so it can be a program name with args.
set dummy who; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:5730: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_PROG_WHO'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$PROG_WHO" in
  /*)
  ac_cv_path_PROG_WHO="$PROG_WHO" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_PROG_WHO="$PROG_WHO" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_PROG_WHO="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  ;;
esac
fi
PROG_WHO="$ac_cv_path_PROG_WHO"
if test -n "$PROG_WHO"; then
  echo "$ac_t""$PROG_WHO" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

	if test -z "$PROG_WHO" ; then
		PROG_WHO="undef"
	fi
	

	
	# Extract the first word of "last", so it can be a program name with args.
set dummy last; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:5771: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_PROG_LAST'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$PROG_LAST" in
  /*)
  ac_cv_path_PROG_LAST="$PROG_LAST" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_PROG_LAST="$PROG_LAST" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_PROG_LAST="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  ;;
esac
fi
PROG_LAST="$ac_cv_path_PROG_LAST"
if test -n "$PROG_LAST"; then
  echo "$ac_t""$PROG_LAST" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

	if test -z "$PROG_LAST" ; then
		PROG_LAST="undef"
	fi
	

	
	# Extract the first word of "lastlog", so it can be a program name with args.
set dummy lastlog; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:5812: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_PROG_LASTLOG'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$PROG_LASTLOG" in
  /*)
  ac_cv_path_PROG_LASTLOG="$PROG_LASTLOG" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_PROG_LASTLOG="$PROG_LASTLOG" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_PROG_LASTLOG="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  ;;
esac
fi
PROG_LASTLOG="$ac_cv_path_PROG_LASTLOG"
if test -n "$PROG_LASTLOG"; then
  echo "$ac_t""$PROG_LASTLOG" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

	if test -z "$PROG_LASTLOG" ; then
		PROG_LASTLOG="undef"
	fi
	

	
	# Extract the first word of "df", so it can be a program name with args.
set dummy df; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:5853: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_PROG_DF'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$PROG_DF" in
  /*)
  ac_cv_path_PROG_DF="$PROG_DF" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_PROG_DF="$PROG_DF" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_PROG_DF="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  ;;
esac
fi
PROG_DF="$ac_cv_path_PROG_DF"
if test -n "$PROG_DF"; then
  echo "$ac_t""$PROG_DF" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

	if test -z "$PROG_DF" ; then
		PROG_DF="undef"
	fi
	

	
	# Extract the first word of "vmstat", so it can be a program name with args.
set dummy vmstat; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:5894: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_PROG_VMSTAT'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$PROG_VMSTAT" in
  /*)
  ac_cv_path_PROG_VMSTAT="$PROG_VMSTAT" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_PROG_VMSTAT="$PROG_VMSTAT" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_PROG_VMSTAT="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  ;;
esac
fi
PROG_VMSTAT="$ac_cv_path_PROG_VMSTAT"
if test -n "$PROG_VMSTAT"; then
  echo "$ac_t""$PROG_VMSTAT" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

	if test -z "$PROG_VMSTAT" ; then
		PROG_VMSTAT="undef"
	fi
	

	
	# Extract the first word of "uptime", so it can be a program name with args.
set dummy uptime; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:5935: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_PROG_UPTIME'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$PROG_UPTIME" in
  /*)
  ac_cv_path_PROG_UPTIME="$PROG_UPTIME" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_PROG_UPTIME="$PROG_UPTIME" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_PROG_UPTIME="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  ;;
esac
fi
PROG_UPTIME="$ac_cv_path_PROG_UPTIME"
if test -n "$PROG_UPTIME"; then
  echo "$ac_t""$PROG_UPTIME" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

	if test -z "$PROG_UPTIME" ; then
		PROG_UPTIME="undef"
	fi
	

	
	# Extract the first word of "ipcs", so it can be a program name with args.
set dummy ipcs; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:5976: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_PROG_IPCS'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$PROG_IPCS" in
  /*)
  ac_cv_path_PROG_IPCS="$PROG_IPCS" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_PROG_IPCS="$PROG_IPCS" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_PROG_IPCS="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  ;;
esac
fi
PROG_IPCS="$ac_cv_path_PROG_IPCS"
if test -n "$PROG_IPCS"; then
  echo "$ac_t""$PROG_IPCS" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

	if test -z "$PROG_IPCS" ; then
		PROG_IPCS="undef"
	fi
	

	
	# Extract the first word of "tail", so it can be a program name with args.
set dummy tail; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:6017: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_PROG_TAIL'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$PROG_TAIL" in
  /*)
  ac_cv_path_PROG_TAIL="$PROG_TAIL" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_PROG_TAIL="$PROG_TAIL" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_PROG_TAIL="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  ;;
esac
fi
PROG_TAIL="$ac_cv_path_PROG_TAIL"
if test -n "$PROG_TAIL"; then
  echo "$ac_t""$PROG_TAIL" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

	if test -z "$PROG_TAIL" ; then
		PROG_TAIL="undef"
	fi
	

	
	# Extract the first word of "ls", so it can be a program name with args.
set dummy ls; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:6058: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_PROG_LS'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$PROG_LS" in
  /*)
  ac_cv_path_PROG_LS="$PROG_LS" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_PROG_LS="$PROG_LS" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_PROG_LS="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  ;;
esac
fi
PROG_LS="$ac_cv_path_PROG_LS"
if test -n "$PROG_LS"; then
  echo "$ac_t""$PROG_LS" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

	if test -z "$PROG_LS" ; then
		PROG_LS="undef"
	fi
	


	INSTALL_SSH_PRNG_CMDS="yes"
fi



# Check whether --with-catman or --without-catman was given.
if test "${with_catman+set}" = set; then
  withval="$with_catman"
  
		MANTYPE='$(CATMAN)'
		if test x"$withval" != x"yes" ; then
		   mansubdir=$withval
		else
		   mansubdir=cat
		fi
	
else
  
		if test -z "$MANTYPE" ; then
			MANTYPE='$(TROFFMAN)'
			mansubdir=man
		fi
	

fi




# Check whether user wants Kerberos support
KRB4_MSG="no" 
# Check whether --with-kerberos4 or --without-kerberos4 was given.
if test "${with_kerberos4+set}" = set; then
  withval="$with_kerberos4"
  
		if test "x$withval" != "xno" ; then
	
			if test "x$withval" != "xyes" ; then
				CFLAGS="$CFLAGS -I${withval}/include"
				LDFLAGS="$LDFLAGS -L${withval}/lib"
				if test ! -z "$need_dash_r" ; then
					LDFLAGS="$LDFLAGS -R${withval}/lib"
				fi
				if test ! -z "$blibpath" ; then
					blibpath="$blibpath:${withval}/lib"
				fi
			else
				if test -d /usr/include/kerberosIV ; then
					CFLAGS="$CFLAGS -I/usr/include/kerberosIV"
				fi
			fi

			for ac_hdr in krb.h
do
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:6152: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 6157 "configure"
#include "confdefs.h"
#include <$ac_hdr>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:6162: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
fi
rm -f conftest*
fi
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

			echo $ac_n "checking for main in -lkrb""... $ac_c" 1>&6
echo "configure:6189: checking for main in -lkrb" >&5
ac_lib_var=`echo krb'_'main | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lkrb  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 6197 "configure"
#include "confdefs.h"

int main() {
main()
; return 0; }
EOF
if { (eval echo configure:6204: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_lib=HAVE_LIB`echo krb | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
  cat >> confdefs.h <<EOF
#define $ac_tr_lib 1
EOF

  LIBS="-lkrb $LIBS"

else
  echo "$ac_t""no" 1>&6
fi

			if test "$ac_cv_header_krb_h" != yes; then
				echo "configure: warning: Cannot find krb.h, build may fail" 1>&2
			fi
			if test "$ac_cv_lib_krb_main" != yes; then
				echo "configure: warning: Cannot find libkrb, build may fail" 1>&2
			fi

			KLIBS="-lkrb -ldes"
			echo $ac_n "checking for dn_expand in -lresolv""... $ac_c" 1>&6
echo "configure:6240: checking for dn_expand in -lresolv" >&5
ac_lib_var=`echo resolv'_'dn_expand | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lresolv  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 6248 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char dn_expand();

int main() {
dn_expand()
; return 0; }
EOF
if { (eval echo configure:6259: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_lib=HAVE_LIB`echo resolv | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
  cat >> confdefs.h <<EOF
#define $ac_tr_lib 1
EOF

  LIBS="-lresolv $LIBS"

else
  echo "$ac_t""no" 1>&6
fi

			KRB4=yes
			KRB4_MSG="yes" 
			cat >> confdefs.h <<\EOF
#define KRB4 1
EOF

		fi
	

fi


# Check whether user wants AFS support
AFS_MSG="no" 
# Check whether --with-afs or --without-afs was given.
if test "${with_afs+set}" = set; then
  withval="$with_afs"
  
		if test "x$withval" != "xno" ; then

			if test "x$withval" != "xyes" ; then
				CFLAGS="$CFLAGS -I${withval}/include"
				LFLAGS="$LFLAGS -L${withval}/lib"
			fi

			if test -z "$KRB4" ; then
				echo "configure: warning: AFS requires Kerberos IV support, build may fail" 1>&2
			fi

			LIBS="$LIBS -lkafs"
			if test ! -z "$AFS_LIBS" ; then
				LIBS="$LIBS $AFS_LIBS"
			fi
			cat >> confdefs.h <<\EOF
#define AFS 1
EOF

			AFS_MSG="yes" 
		fi
	

fi

LIBS="$LIBS $KLIBS"

# Check whether user wants S/Key support
SKEY_MSG="no" 
# Check whether --with-skey or --without-skey was given.
if test "${with_skey+set}" = set; then
  withval="$with_skey"
  
		if test "x$withval" != "xno" ; then
			cat >> confdefs.h <<\EOF
#define SKEY 1
EOF

			LIBS="$LIBS -lskey"
			SKEY_MSG="yes" 
		fi
	

fi


# Check whether user wants TCP wrappers support
TCPW_MSG="no" 
# Check whether --with-tcp-wrappers or --without-tcp-wrappers was given.
if test "${with_tcp_wrappers+set}" = set; then
  withval="$with_tcp_wrappers"
  
		if test "x$withval" != "xno" ; then
			saved_LIBS="$LIBS"
			LIBS="$LIBS -lwrap"
			echo $ac_n "checking for libwrap""... $ac_c" 1>&6
echo "configure:6360: checking for libwrap" >&5
			cat > conftest.$ac_ext <<EOF
#line 6362 "configure"
#include "confdefs.h"

#include <tcpd.h>
					int deny_severity = 0, allow_severity = 0;
				
int main() {
hosts_access(0);
; return 0; }
EOF
if { (eval echo configure:6372: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  
					echo "$ac_t""yes" 1>&6
					cat >> confdefs.h <<\EOF
#define LIBWRAP 1
EOF

					TCPW_MSG="yes" 
				
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  
					{ echo "configure: error: *** libwrap missing" 1>&2; exit 1; }
				
			
fi
rm -f conftest*
		fi
	

fi


# Check whether to enable MD5 passwords
MD5_MSG="no" 
# Check whether --with-md5-passwords or --without-md5-passwords was given.
if test "${with_md5_passwords+set}" = set; then
  withval="$with_md5_passwords"
  
		if test "x$withval" != "xno" ; then
			cat >> confdefs.h <<\EOF
#define HAVE_MD5_PASSWORDS 1
EOF

			MD5_MSG="yes" 
		fi
	

fi


# Whether to disable shadow password support
# Check whether --with-shadow or --without-shadow was given.
if test "${with_shadow+set}" = set; then
  withval="$with_shadow"
  
		if test "x$withval" = "xno" ; then	
			cat >> confdefs.h <<\EOF
#define DISABLE_SHADOW 1
EOF

			disable_shadow=yes
		fi
	

fi


if test -z "$disable_shadow" ; then
	echo $ac_n "checking if the systems has expire shadow information""... $ac_c" 1>&6
echo "configure:6435: checking if the systems has expire shadow information" >&5
	cat > conftest.$ac_ext <<EOF
#line 6437 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <shadow.h>
	struct spwd sp;
	
int main() {
 sp.sp_expire = sp.sp_lstchg = sp.sp_inact = 0; 
; return 0; }
EOF
if { (eval echo configure:6448: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
   sp_expire_available=yes 
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  
	
fi
rm -f conftest*

	if test "x$sp_expire_available" = "xyes" ; then
		echo "$ac_t""yes" 1>&6
		cat >> confdefs.h <<\EOF
#define HAS_SHADOW_EXPIRE 1
EOF

	else
		echo "$ac_t""no" 1>&6
	fi
fi

# Use ip address instead of hostname in $DISPLAY
if test ! -z "$IPADDR_IN_DISPLAY" ; then
	DISPLAY_HACK_MSG="yes"
	cat >> confdefs.h <<\EOF
#define IPADDR_IN_DISPLAY 1
EOF

else
	DISPLAY_HACK_MSG="no" 
	# Check whether --with-ipaddr-display or --without-ipaddr-display was given.
if test "${with_ipaddr_display+set}" = set; then
  withval="$with_ipaddr_display"
  
			if test "x$withval" != "xno" ; then	
				cat >> confdefs.h <<\EOF
#define IPADDR_IN_DISPLAY 1
EOF

				DISPLAY_HACK_MSG="yes" 
			fi
		
	
fi

fi

# Whether to mess with the default path
SERVER_PATH_MSG="(default)" 
# Check whether --with-default-path or --without-default-path was given.
if test "${with_default_path+set}" = set; then
  withval="$with_default_path"
  
		if test "x$withval" != "xno" ; then	
			cat >> confdefs.h <<EOF
#define USER_PATH "$withval"
EOF

			SERVER_PATH_MSG="$withval" 
		fi
	

fi


# Whether to force IPv4 by default (needed on broken glibc Linux)
IPV4_HACK_MSG="no" 
# Check whether --with-ipv4-default or --without-ipv4-default was given.
if test "${with_ipv4_default+set}" = set; then
  withval="$with_ipv4_default"
  
		if test "x$withval" != "xno" ; then	
			cat >> confdefs.h <<\EOF
#define IPV4_DEFAULT 1
EOF

			IPV4_HACK_MSG="yes" 
		fi
	

fi


echo $ac_n "checking if we need to convert IPv4 in IPv6-mapped addresses""... $ac_c" 1>&6
echo "configure:6534: checking if we need to convert IPv4 in IPv6-mapped addresses" >&5
IPV4_IN6_HACK_MSG="no" 
# Check whether --with-4in6 or --without-4in6 was given.
if test "${with_4in6+set}" = set; then
  withval="$with_4in6"
  
		if test "x$withval" != "xno" ; then
			echo "$ac_t""yes" 1>&6
			cat >> confdefs.h <<\EOF
#define IPV4_IN_IPV6 1
EOF

			IPV4_IN6_HACK_MSG="yes" 
		else
			echo "$ac_t""no" 1>&6
		fi
	
else
  
		if test "x$inet6_default_4in6" = "xyes"; then
			echo "$ac_t""yes (default)" 1>&6
			cat >> confdefs.h <<\EOF
#define IPV4_IN_IPV6 1
EOF

			IPV4_IN6_HACK_MSG="yes" 
		else
			echo "$ac_t""no (default)" 1>&6
		fi
	

fi


echo $ac_n "checking whether to install ssh as suid root""... $ac_c" 1>&6
echo "configure:6569: checking whether to install ssh as suid root" >&5
# Check whether --enable-suid-ssh or --disable-suid-ssh was given.
if test "${enable_suid_ssh+set}" = set; then
  enableval="$enable_suid_ssh"
   case "$enableval" in
  no)
       echo "$ac_t""no" 1>&6
       SSHMODE=0711
       ;;
  *)   echo "$ac_t""yes" 1>&6
       SSHMODE=04711
       ;;
  esac 
else
  echo "$ac_t""yes" 1>&6
  SSHMODE=04711

fi




# Where to place sshd.pid
piddir=/var/run
# Check whether --with-pid-dir or --without-pid-dir was given.
if test "${with_pid_dir+set}" = set; then
  withval="$with_pid_dir"
  
		if test "x$withval" != "xno" ; then	
			piddir=$withval
		fi
	

fi


# make sure the directory exists
if test ! -d $piddir ; then	
	piddir=`eval echo ${sysconfdir}`
	case $piddir in
 		NONE/*) piddir=`echo $piddir | sed "s~NONE~$ac_default_prefix~"` ;;
	esac
fi

cat >> confdefs.h <<EOF
#define PIDDIR "$piddir"
EOF



# Check whether --enable-lastlog or --disable-lastlog was given.
if test "${enable_lastlog+set}" = set; then
  enableval="$enable_lastlog"
   cat >> confdefs.h <<\EOF
#define DISABLE_LASTLOG 1
EOF
 

fi

# Check whether --enable-utmp or --disable-utmp was given.
if test "${enable_utmp+set}" = set; then
  enableval="$enable_utmp"
   cat >> confdefs.h <<\EOF
#define DISABLE_UTMP 1
EOF
 

fi

# Check whether --enable-utmpx or --disable-utmpx was given.
if test "${enable_utmpx+set}" = set; then
  enableval="$enable_utmpx"
   cat >> confdefs.h <<\EOF
#define DISABLE_UTMPX 1
EOF
 

fi

# Check whether --enable-wtmp or --disable-wtmp was given.
if test "${enable_wtmp+set}" = set; then
  enableval="$enable_wtmp"
   cat >> confdefs.h <<\EOF
#define DISABLE_WTMP 1
EOF
 

fi

# Check whether --enable-wtmpx or --disable-wtmpx was given.
if test "${enable_wtmpx+set}" = set; then
  enableval="$enable_wtmpx"
   cat >> confdefs.h <<\EOF
#define DISABLE_WTMPX 1
EOF
 

fi

# Check whether --enable-libutil or --disable-libutil was given.
if test "${enable_libutil+set}" = set; then
  enableval="$enable_libutil"
   cat >> confdefs.h <<\EOF
#define DISABLE_LOGIN 1
EOF
 

fi

# Check whether --enable-pututline or --disable-pututline was given.
if test "${enable_pututline+set}" = set; then
  enableval="$enable_pututline"
   cat >> confdefs.h <<\EOF
#define DISABLE_PUTUTLINE 1
EOF
 

fi

# Check whether --enable-pututxline or --disable-pututxline was given.
if test "${enable_pututxline+set}" = set; then
  enableval="$enable_pututxline"
   cat >> confdefs.h <<\EOF
#define DISABLE_PUTUTXLINE 1
EOF
 

fi

# Check whether --with-lastlog or --without-lastlog was given.
if test "${with_lastlog+set}" = set; then
  withval="$with_lastlog"
   conf_lastlog_location="$withval";  
fi



echo $ac_n "checking if your system defines LASTLOG_FILE""... $ac_c" 1>&6
echo "configure:6708: checking if your system defines LASTLOG_FILE" >&5
cat > conftest.$ac_ext <<EOF
#line 6710 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <utmp.h>
#ifdef HAVE_LASTLOG_H
#  include <lastlog.h>
#endif
#ifdef HAVE_PATHS_H
#  include <paths.h>
#endif
	
int main() {
 char *lastlog = LASTLOG_FILE; 
; return 0; }
EOF
if { (eval echo configure:6726: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
   echo "$ac_t""yes" 1>&6 
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  
		echo "$ac_t""no" 1>&6
		echo $ac_n "checking if your system defines _PATH_LASTLOG""... $ac_c" 1>&6
echo "configure:6736: checking if your system defines _PATH_LASTLOG" >&5
		cat > conftest.$ac_ext <<EOF
#line 6738 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <utmp.h>
#ifdef HAVE_LASTLOG_H
#  include <lastlog.h>
#endif
#ifdef HAVE_PATHS_H
#  include <paths.h>
#endif
		
int main() {
 char *lastlog = _PATH_LASTLOG; 
; return 0; }
EOF
if { (eval echo configure:6754: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
   echo "$ac_t""yes" 1>&6 
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  
			echo "$ac_t""no" 1>&6
			system_lastlog_path=no
		
fi
rm -f conftest*
	

fi
rm -f conftest*

if test -z "$conf_lastlog_location"; then
	if test x"$system_lastlog_path" = x"no" ; then
		for f in /var/log/lastlog /usr/adm/lastlog /var/adm/lastlog /etc/security/lastlog ; do
				if (test -d "$f" || test -f "$f") ; then
					conf_lastlog_location=$f
				fi
		done
		if test -z "$conf_lastlog_location"; then
			echo "configure: warning: ** Cannot find lastlog **" 1>&2
					fi
	fi
fi

if test -n "$conf_lastlog_location"; then
	cat >> confdefs.h <<EOF
#define CONF_LASTLOG_FILE "$conf_lastlog_location"
EOF

fi	

echo $ac_n "checking if your system defines UTMP_FILE""... $ac_c" 1>&6
echo "configure:6793: checking if your system defines UTMP_FILE" >&5
cat > conftest.$ac_ext <<EOF
#line 6795 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <utmp.h>
#ifdef HAVE_PATHS_H
#  include <paths.h>
#endif
	
int main() {
 char *utmp = UTMP_FILE; 
; return 0; }
EOF
if { (eval echo configure:6808: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
   echo "$ac_t""yes" 1>&6 
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
   echo "$ac_t""no" 1>&6
	  system_utmp_path=no 

fi
rm -f conftest*
if test -z "$conf_utmp_location"; then
	if test x"$system_utmp_path" = x"no" ; then
		for f in /etc/utmp /usr/adm/utmp /var/run/utmp; do
			if test -f $f ; then
				conf_utmp_location=$f
			fi
		done
		if test -z "$conf_utmp_location"; then
			cat >> confdefs.h <<\EOF
#define DISABLE_UTMP 1
EOF

		fi
	fi
fi
if test -n "$conf_utmp_location"; then
	cat >> confdefs.h <<EOF
#define CONF_UTMP_FILE "$conf_utmp_location"
EOF

fi	

echo $ac_n "checking if your system defines WTMP_FILE""... $ac_c" 1>&6
echo "configure:6843: checking if your system defines WTMP_FILE" >&5
cat > conftest.$ac_ext <<EOF
#line 6845 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <utmp.h>
#ifdef HAVE_PATHS_H
#  include <paths.h>
#endif
	
int main() {
 char *wtmp = WTMP_FILE; 
; return 0; }
EOF
if { (eval echo configure:6858: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
   echo "$ac_t""yes" 1>&6 
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
   echo "$ac_t""no" 1>&6
	  system_wtmp_path=no 

fi
rm -f conftest*
if test -z "$conf_wtmp_location"; then
	if test x"$system_wtmp_path" = x"no" ; then
		for f in /usr/adm/wtmp /var/log/wtmp; do
			if test -f $f ; then
				conf_wtmp_location=$f
			fi
		done
		if test -z "$conf_wtmp_location"; then
			cat >> confdefs.h <<\EOF
#define DISABLE_WTMP 1
EOF

		fi
	fi
fi
if test -n "$conf_wtmp_location"; then
	cat >> confdefs.h <<EOF
#define CONF_WTMP_FILE "$conf_wtmp_location"
EOF

fi	


echo $ac_n "checking if your system defines UTMPX_FILE""... $ac_c" 1>&6
echo "configure:6894: checking if your system defines UTMPX_FILE" >&5
cat > conftest.$ac_ext <<EOF
#line 6896 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <utmp.h>
#ifdef HAVE_UTMPX_H
#include <utmpx.h>
#endif
#ifdef HAVE_PATHS_H
#  include <paths.h>
#endif
	
int main() {
 char *utmpx = UTMPX_FILE; 
; return 0; }
EOF
if { (eval echo configure:6912: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
   echo "$ac_t""yes" 1>&6 
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
   echo "$ac_t""no" 1>&6
	  system_utmpx_path=no 

fi
rm -f conftest*
if test -z "$conf_utmpx_location"; then
	if test x"$system_utmpx_path" = x"no" ; then
		cat >> confdefs.h <<\EOF
#define DISABLE_UTMPX 1
EOF

	fi
else
	cat >> confdefs.h <<EOF
#define CONF_UTMPX_FILE "$conf_utmpx_location"
EOF

fi	

echo $ac_n "checking if your system defines WTMPX_FILE""... $ac_c" 1>&6
echo "configure:6939: checking if your system defines WTMPX_FILE" >&5
cat > conftest.$ac_ext <<EOF
#line 6941 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <utmp.h>
#ifdef HAVE_UTMPX_H
#include <utmpx.h>
#endif
#ifdef HAVE_PATHS_H
#  include <paths.h>
#endif
	
int main() {
 char *wtmpx = WTMPX_FILE; 
; return 0; }
EOF
if { (eval echo configure:6957: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
   echo "$ac_t""yes" 1>&6 
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
   echo "$ac_t""no" 1>&6
	  system_wtmpx_path=no 

fi
rm -f conftest*
if test -z "$conf_wtmpx_location"; then
	if test x"$system_wtmpx_path" = x"no" ; then
		cat >> confdefs.h <<\EOF
#define DISABLE_WTMPX 1
EOF

	fi
else
	cat >> confdefs.h <<EOF
#define CONF_WTMPX_FILE "$conf_wtmpx_location"
EOF

fi	


# Change default command timeout for builtin PRNG
entropy_timeout=200
# Check whether --with-entropy-timeout or --without-entropy-timeout was given.
if test "${with_entropy_timeout+set}" = set; then
  withval="$with_entropy_timeout"
  
		if test "x$withval" != "xno" ; then
			entropy_timeout=$withval
		fi
		

fi

cat >> confdefs.h <<EOF
#define ENTROPY_TIMEOUT_MSEC $entropy_timeout
EOF



if test ! -z "$blibpath" ; then
	LDFLAGS="$LDFLAGS -blibpath:$blibpath"
	echo "configure: warning: Please check and edit -blibpath in LDFLAGS in Makefile" 1>&2
fi

echo $ac_n "checking for Cygwin environment""... $ac_c" 1>&6
echo "configure:7009: checking for Cygwin environment" >&5
if eval "test \"`echo '$''{'ac_cv_cygwin'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 7014 "configure"
#include "confdefs.h"

int main() {

#ifndef __CYGWIN__
#define __CYGWIN__ __CYGWIN32__
#endif
return __CYGWIN__;
; return 0; }
EOF
if { (eval echo configure:7025: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  ac_cv_cygwin=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_cv_cygwin=no
fi
rm -f conftest*
rm -f conftest*
fi

echo "$ac_t""$ac_cv_cygwin" 1>&6
CYGWIN=
test "$ac_cv_cygwin" = yes && CYGWIN=yes
echo $ac_n "checking for mingw32 environment""... $ac_c" 1>&6
echo "configure:7042: checking for mingw32 environment" >&5
if eval "test \"`echo '$''{'ac_cv_mingw32'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 7047 "configure"
#include "confdefs.h"

int main() {
return __MINGW32__;
; return 0; }
EOF
if { (eval echo configure:7054: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  ac_cv_mingw32=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_cv_mingw32=no
fi
rm -f conftest*
rm -f conftest*
fi

echo "$ac_t""$ac_cv_mingw32" 1>&6
MINGW32=
test "$ac_cv_mingw32" = yes && MINGW32=yes


echo $ac_n "checking for executable suffix""... $ac_c" 1>&6
echo "configure:7073: checking for executable suffix" >&5
if eval "test \"`echo '$''{'ac_cv_exeext'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$CYGWIN" = yes || test "$MINGW32" = yes; then
  ac_cv_exeext=.exe
else
  rm -f conftest*
  echo 'int main () { return 0; }' > conftest.$ac_ext
  ac_cv_exeext=
  if { (eval echo configure:7083: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
    for file in conftest.*; do
      case $file in
      *.c | *.o | *.obj) ;;
      *) ac_cv_exeext=`echo $file | sed -e s/conftest//` ;;
      esac
    done
  else
    { echo "configure: error: installation or configuration problem: compiler cannot create executables." 1>&2; exit 1; }
  fi
  rm -f conftest*
  test x"${ac_cv_exeext}" = x && ac_cv_exeext=no
fi
fi

EXEEXT=""
test x"${ac_cv_exeext}" != xno && EXEEXT=${ac_cv_exeext}
echo "$ac_t""${ac_cv_exeext}" 1>&6
ac_exeext=$EXEEXT


trap '' 1 2 15
cat > confcache <<\EOF
# This file is a shell script that caches the results of configure
# tests run on this system so they can be shared between configure
# scripts and configure runs.  It is not useful on other systems.
# If it contains results you don't want to keep, you may remove or edit it.
#
# By default, configure uses ./config.cache as the cache file,
# creating it if it does not exist already.  You can give configure
# the --cache-file=FILE option to use a different cache file; that is
# what configure does when it calls configure scripts in
# subdirectories, so they share the cache.
# Giving --cache-file=/dev/null disables caching, for debugging configure.
# config.status only pays attention to the cache file if you give it the
# --recheck option to rerun configure.
#
EOF
# The following way of writing the cache mishandles newlines in values,
# but we know of no workaround that is simple, portable, and efficient.
# So, don't put newlines in cache variables' values.
# Ultrix sh set writes to stderr and can't be redirected directly,
# and sets the high bit in the cache file unless we assign to the vars.
(set) 2>&1 |
  case `(ac_space=' '; set | grep ac_space) 2>&1` in
  *ac_space=\ *)
    # `set' does not quote correctly, so add quotes (double-quote substitution
    # turns \\\\ into \\, and sed turns \\ into \).
    sed -n \
      -e "s/'/'\\\\''/g" \
      -e "s/^\\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\\)=\\(.*\\)/\\1=\${\\1='\\2'}/p"
    ;;
  *)
    # `set' quotes correctly as required by POSIX, so do not add quotes.
    sed -n -e 's/^\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\)=\(.*\)/\1=${\1=\2}/p'
    ;;
  esac >> confcache
if cmp -s $cache_file confcache; then
  :
else
  if test -w $cache_file; then
    echo "updating cache $cache_file"
    cat confcache > $cache_file
  else
    echo "not updating unwritable cache $cache_file"
  fi
fi
rm -f confcache

trap 'rm -fr conftest* confdefs* core core.* *.core $ac_clean_files; exit 1' 1 2 15

test "x$prefix" = xNONE && prefix=$ac_default_prefix
# Let make expand exec_prefix.
test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'

# Any assignment to VPATH causes Sun make to only execute
# the first set of double-colon rules, so remove it if not needed.
# If there is a colon in the path, we need to keep it.
if test "x$srcdir" = x.; then
  ac_vpsub='/^[ 	]*VPATH[ 	]*=[^:]*$/d'
fi

trap 'rm -f $CONFIG_STATUS conftest*; exit 1' 1 2 15

DEFS=-DHAVE_CONFIG_H

# Without the "./", some shells look in PATH for config.status.
: ${CONFIG_STATUS=./config.status}

echo creating $CONFIG_STATUS
rm -f $CONFIG_STATUS
cat > $CONFIG_STATUS <<EOF
#! /bin/sh
# Generated automatically by configure.
# Run this file to recreate the current configuration.
# This directory was configured as follows,
# on host `(hostname || uname -n) 2>/dev/null | sed 1q`:
#
# $0 $ac_configure_args
#
# Compiler output produced by configure, useful for debugging
# configure, is in ./config.log if it exists.

ac_cs_usage="Usage: $CONFIG_STATUS [--recheck] [--version] [--help]"
for ac_option
do
  case "\$ac_option" in
  -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)
    echo "running \${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion"
    exec \${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion ;;
  -version | --version | --versio | --versi | --vers | --ver | --ve | --v)
    echo "$CONFIG_STATUS generated by autoconf version 2.13"
    exit 0 ;;
  -help | --help | --hel | --he | --h)
    echo "\$ac_cs_usage"; exit 0 ;;
  *) echo "\$ac_cs_usage"; exit 1 ;;
  esac
done

ac_given_srcdir=$srcdir
ac_given_INSTALL="$INSTALL"

trap 'rm -fr `echo "Makefile ssh_prng_cmds config.h" | sed "s/:[^ ]*//g"` conftest*; exit 1' 1 2 15
EOF
cat >> $CONFIG_STATUS <<EOF

# Protect against being on the right side of a sed subst in config.status.
sed 's/%@/@@/; s/@%/@@/; s/%g\$/@g/; /@g\$/s/[\\\\&%]/\\\\&/g;
 s/@@/%@/; s/@@/@%/; s/@g\$/%g/' > conftest.subs <<\\CEOF
$ac_vpsub
$extrasub
s%@SHELL@%$SHELL%g
s%@CFLAGS@%$CFLAGS%g
s%@CPPFLAGS@%$CPPFLAGS%g
s%@CXXFLAGS@%$CXXFLAGS%g
s%@FFLAGS@%$FFLAGS%g
s%@DEFS@%$DEFS%g
s%@LDFLAGS@%$LDFLAGS%g
s%@LIBS@%$LIBS%g
s%@exec_prefix@%$exec_prefix%g
s%@prefix@%$prefix%g
s%@program_transform_name@%$program_transform_name%g
s%@bindir@%$bindir%g
s%@sbindir@%$sbindir%g
s%@libexecdir@%$libexecdir%g
s%@datadir@%$datadir%g
s%@sysconfdir@%$sysconfdir%g
s%@sharedstatedir@%$sharedstatedir%g
s%@localstatedir@%$localstatedir%g
s%@libdir@%$libdir%g
s%@includedir@%$includedir%g
s%@oldincludedir@%$oldincludedir%g
s%@infodir@%$infodir%g
s%@mandir@%$mandir%g
s%@CC@%$CC%g
s%@host@%$host%g
s%@host_alias@%$host_alias%g
s%@host_cpu@%$host_cpu%g
s%@host_vendor@%$host_vendor%g
s%@host_os@%$host_os%g
s%@CPP@%$CPP%g
s%@RANLIB@%$RANLIB%g
s%@INSTALL_PROGRAM@%$INSTALL_PROGRAM%g
s%@INSTALL_SCRIPT@%$INSTALL_SCRIPT%g
s%@INSTALL_DATA@%$INSTALL_DATA%g
s%@AR@%$AR%g
s%@PERL@%$PERL%g
s%@ENT@%$ENT%g
s%@FILEPRIV@%$FILEPRIV%g
s%@LOGIN_PROGRAM_FALLBACK@%$LOGIN_PROGRAM_FALLBACK%g
s%@LD@%$LD%g
s%@rsh_path@%$rsh_path%g
s%@xauth_path@%$xauth_path%g
s%@RANDOM_POOL@%$RANDOM_POOL%g
s%@PROG_LS@%$PROG_LS%g
s%@PROG_NETSTAT@%$PROG_NETSTAT%g
s%@PROG_ARP@%$PROG_ARP%g
s%@PROG_IFCONFIG@%$PROG_IFCONFIG%g
s%@PROG_PS@%$PROG_PS%g
s%@PROG_W@%$PROG_W%g
s%@PROG_WHO@%$PROG_WHO%g
s%@PROG_LAST@%$PROG_LAST%g
s%@PROG_LASTLOG@%$PROG_LASTLOG%g
s%@PROG_DF@%$PROG_DF%g
s%@PROG_VMSTAT@%$PROG_VMSTAT%g
s%@PROG_UPTIME@%$PROG_UPTIME%g
s%@PROG_IPCS@%$PROG_IPCS%g
s%@PROG_TAIL@%$PROG_TAIL%g
s%@INSTALL_SSH_PRNG_CMDS@%$INSTALL_SSH_PRNG_CMDS%g
s%@MANTYPE@%$MANTYPE%g
s%@mansubdir@%$mansubdir%g
s%@SSHMODE@%$SSHMODE%g
s%@piddir@%$piddir%g
s%@EXEEXT@%$EXEEXT%g

CEOF
EOF

cat >> $CONFIG_STATUS <<\EOF

# Split the substitutions into bite-sized pieces for seds with
# small command number limits, like on Digital OSF/1 and HP-UX.
ac_max_sed_cmds=90 # Maximum number of lines to put in a sed script.
ac_file=1 # Number of current file.
ac_beg=1 # First line for current file.
ac_end=$ac_max_sed_cmds # Line after last line for current file.
ac_more_lines=:
ac_sed_cmds=""
while $ac_more_lines; do
  if test $ac_beg -gt 1; then
    sed "1,${ac_beg}d; ${ac_end}q" conftest.subs > conftest.s$ac_file
  else
    sed "${ac_end}q" conftest.subs > conftest.s$ac_file
  fi
  if test ! -s conftest.s$ac_file; then
    ac_more_lines=false
    rm -f conftest.s$ac_file
  else
    if test -z "$ac_sed_cmds"; then
      ac_sed_cmds="sed -f conftest.s$ac_file"
    else
      ac_sed_cmds="$ac_sed_cmds | sed -f conftest.s$ac_file"
    fi
    ac_file=`expr $ac_file + 1`
    ac_beg=$ac_end
    ac_end=`expr $ac_end + $ac_max_sed_cmds`
  fi
done
if test -z "$ac_sed_cmds"; then
  ac_sed_cmds=cat
fi
EOF

cat >> $CONFIG_STATUS <<EOF

CONFIG_FILES=\${CONFIG_FILES-"Makefile ssh_prng_cmds"}
EOF
cat >> $CONFIG_STATUS <<\EOF
for ac_file in .. $CONFIG_FILES; do if test "x$ac_file" != x..; then
  # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
  case "$ac_file" in
  *:*) ac_file_in=`echo "$ac_file"|sed 's%[^:]*:%%'`
       ac_file=`echo "$ac_file"|sed 's%:.*%%'` ;;
  *) ac_file_in="${ac_file}.in" ;;
  esac

  # Adjust a relative srcdir, top_srcdir, and INSTALL for subdirectories.

  # Remove last slash and all that follows it.  Not all systems have dirname.
  ac_dir=`echo $ac_file|sed 's%/[^/][^/]*$%%'`
  if test "$ac_dir" != "$ac_file" && test "$ac_dir" != .; then
    # The file is in a subdirectory.
    test ! -d "$ac_dir" && mkdir "$ac_dir"
    ac_dir_suffix="/`echo $ac_dir|sed 's%^\./%%'`"
    # A "../" for each directory in $ac_dir_suffix.
    ac_dots=`echo $ac_dir_suffix|sed 's%/[^/]*%../%g'`
  else
    ac_dir_suffix= ac_dots=
  fi

  case "$ac_given_srcdir" in
  .)  srcdir=.
      if test -z "$ac_dots"; then top_srcdir=.
      else top_srcdir=`echo $ac_dots|sed 's%/$%%'`; fi ;;
  /*) srcdir="$ac_given_srcdir$ac_dir_suffix"; top_srcdir="$ac_given_srcdir" ;;
  *) # Relative path.
    srcdir="$ac_dots$ac_given_srcdir$ac_dir_suffix"
    top_srcdir="$ac_dots$ac_given_srcdir" ;;
  esac

  case "$ac_given_INSTALL" in
  [/$]*) INSTALL="$ac_given_INSTALL" ;;
  *) INSTALL="$ac_dots$ac_given_INSTALL" ;;
  esac

  echo creating "$ac_file"
  rm -f "$ac_file"
  configure_input="Generated automatically from `echo $ac_file_in|sed 's%.*/%%'` by configure."
  case "$ac_file" in
  *Makefile*) ac_comsub="1i\\
# $configure_input" ;;
  *) ac_comsub= ;;
  esac

  ac_file_inputs=`echo $ac_file_in|sed -e "s%^%$ac_given_srcdir/%" -e "s%:% $ac_given_srcdir/%g"`
  sed -e "$ac_comsub
s%@configure_input@%$configure_input%g
s%@srcdir@%$srcdir%g
s%@top_srcdir@%$top_srcdir%g
s%@INSTALL@%$INSTALL%g
" $ac_file_inputs | (eval "$ac_sed_cmds") > $ac_file
fi; done
rm -f conftest.s*

# These sed commands are passed to sed as "A NAME B NAME C VALUE D", where
# NAME is the cpp macro being defined and VALUE is the value it is being given.
#
# ac_d sets the value in "#define NAME VALUE" lines.
ac_dA='s%^\([ 	]*\)#\([ 	]*define[ 	][ 	]*\)'
ac_dB='\([ 	][ 	]*\)[^ 	]*%\1#\2'
ac_dC='\3'
ac_dD='%g'
# ac_u turns "#undef NAME" with trailing blanks into "#define NAME VALUE".
ac_uA='s%^\([ 	]*\)#\([ 	]*\)undef\([ 	][ 	]*\)'
ac_uB='\([ 	]\)%\1#\2define\3'
ac_uC=' '
ac_uD='\4%g'
# ac_e turns "#undef NAME" without trailing blanks into "#define NAME VALUE".
ac_eA='s%^\([ 	]*\)#\([ 	]*\)undef\([ 	][ 	]*\)'
ac_eB='$%\1#\2define\3'
ac_eC=' '
ac_eD='%g'

if test "${CONFIG_HEADERS+set}" != set; then
EOF
cat >> $CONFIG_STATUS <<EOF
  CONFIG_HEADERS="config.h"
EOF
cat >> $CONFIG_STATUS <<\EOF
fi
for ac_file in .. $CONFIG_HEADERS; do if test "x$ac_file" != x..; then
  # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
  case "$ac_file" in
  *:*) ac_file_in=`echo "$ac_file"|sed 's%[^:]*:%%'`
       ac_file=`echo "$ac_file"|sed 's%:.*%%'` ;;
  *) ac_file_in="${ac_file}.in" ;;
  esac

  echo creating $ac_file

  rm -f conftest.frag conftest.in conftest.out
  ac_file_inputs=`echo $ac_file_in|sed -e "s%^%$ac_given_srcdir/%" -e "s%:% $ac_given_srcdir/%g"`
  cat $ac_file_inputs > conftest.in

EOF

# Transform confdefs.h into a sed script conftest.vals that substitutes
# the proper values into config.h.in to produce config.h.  And first:
# Protect against being on the right side of a sed subst in config.status.
# Protect against being in an unquoted here document in config.status.
rm -f conftest.vals
cat > conftest.hdr <<\EOF
s/[\\&%]/\\&/g
s%[\\$`]%\\&%g
s%#define \([A-Za-z_][A-Za-z0-9_]*\) *\(.*\)%${ac_dA}\1${ac_dB}\1${ac_dC}\2${ac_dD}%gp
s%ac_d%ac_u%gp
s%ac_u%ac_e%gp
EOF
sed -n -f conftest.hdr confdefs.h > conftest.vals
rm -f conftest.hdr

# This sed command replaces #undef with comments.  This is necessary, for
# example, in the case of _POSIX_SOURCE, which is predefined and required
# on some systems where configure will not decide to define it.
cat >> conftest.vals <<\EOF
s%^[ 	]*#[ 	]*undef[ 	][ 	]*[a-zA-Z_][a-zA-Z_0-9]*%/* & */%
EOF

# Break up conftest.vals because some shells have a limit on
# the size of here documents, and old seds have small limits too.

rm -f conftest.tail
while :
do
  ac_lines=`grep -c . conftest.vals`
  # grep -c gives empty output for an empty file on some AIX systems.
  if test -z "$ac_lines" || test "$ac_lines" -eq 0; then break; fi
  # Write a limited-size here document to conftest.frag.
  echo '  cat > conftest.frag <<CEOF' >> $CONFIG_STATUS
  sed ${ac_max_here_lines}q conftest.vals >> $CONFIG_STATUS
  echo 'CEOF
  sed -f conftest.frag conftest.in > conftest.out
  rm -f conftest.in
  mv conftest.out conftest.in
' >> $CONFIG_STATUS
  sed 1,${ac_max_here_lines}d conftest.vals > conftest.tail
  rm -f conftest.vals
  mv conftest.tail conftest.vals
done
rm -f conftest.vals

cat >> $CONFIG_STATUS <<\EOF
  rm -f conftest.frag conftest.h
  echo "/* $ac_file.  Generated automatically by configure.  */" > conftest.h
  cat conftest.in >> conftest.h
  rm -f conftest.in
  if cmp -s $ac_file conftest.h 2>/dev/null; then
    echo "$ac_file is unchanged"
    rm -f conftest.h
  else
    # Remove last slash and all that follows it.  Not all systems have dirname.
      ac_dir=`echo $ac_file|sed 's%/[^/][^/]*$%%'`
      if test "$ac_dir" != "$ac_file" && test "$ac_dir" != .; then
      # The file is in a subdirectory.
      test ! -d "$ac_dir" && mkdir "$ac_dir"
    fi
    rm -f $ac_file
    mv conftest.h $ac_file
  fi
fi; done

EOF
cat >> $CONFIG_STATUS <<EOF

EOF
cat >> $CONFIG_STATUS <<\EOF

exit 0
EOF
chmod +x $CONFIG_STATUS
rm -fr confdefs* $ac_clean_files
test "$no_create" = yes || ${CONFIG_SHELL-/bin/sh} $CONFIG_STATUS || exit 1


# Print summary of options

if test x$MANTYPE = x'$(CATMAN)' ; then
	MAN_MSG=cat
else 
	MAN_MSG=man
fi
if test ! -z "$RANDOM_POOL" ; then
	RAND_MSG="Device ($RANDOM_POOL)"
else
	if test ! -z "$EGD_SOCKET" ; then
		RAND_MSG="EGD ($EGD_SOCKET)"
	else
		RAND_MSG="Builtin (timeout $entropy_timeout)"
		BUILTIN_RNG=1
	fi
fi

# Someone please show me a better way :)
A=`eval echo ${prefix}` ; A=`eval echo ${A}`
B=`eval echo ${bindir}` ; B=`eval echo ${B}`
C=`eval echo ${sbindir}` ; C=`eval echo ${C}`
D=`eval echo ${sysconfdir}` ; D=`eval echo ${D}`
E=`eval echo ${libexecdir}/ssh-askpass` ; E=`eval echo ${E}`
F=`eval echo ${mandir}/${mansubdir}X` ; F=`eval echo ${F}`
G=`eval echo ${piddir}` ; G=`eval echo ${G}`

echo ""
echo "OpenSSH configured has been configured with the following options."
echo "                 User binaries: $B"
echo "                 User binaries: $B"
echo "               System binaries: $C"
echo "           Configuration files: $D"
echo "               Askpass program: $E"
echo "                  Manual pages: $F"
echo "                      PID file: $G"
echo "      Random number collection: $RAND_MSG"
echo "                Manpage format: $MAN_MSG"
echo "                   PAM support: ${PAM_MSG}"
echo "            KerberosIV support: $KRB4_MSG"
echo "                   AFS support: $AFS_MSG"
echo "                 S/KEY support: $SKEY_MSG"
echo "          TCP Wrappers support: $TCPW_MSG"
echo "          MD5 password support: $MD5_MSG"
echo "   IP address in \$DISPLAY hack: $DISPLAY_HACK_MSG"
echo "      Use IPv4 by default hack: $IPV4_HACK_MSG"
echo "       Translate v4 in v6 hack: $IPV4_IN6_HACK_MSG"

echo ""

echo "             Host: ${host}"
echo "         Compiler: ${CC}"
echo "   Compiler flags: ${CFLAGS}"
echo "     Linker flags: ${LDFLAGS}"
echo "        Libraries: ${LIBS}"

echo ""

if test ! -z "$BUILTIN_RNG" ; then
	echo "WARNING: you are using the builtin random number collection service."
	echo "Please read WARNING.RNG and request that your OS vendor includes"
	echo "/dev/random in future versions of their OS."
	echo ""
fi
